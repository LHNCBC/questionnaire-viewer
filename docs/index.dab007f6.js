var e,t,r,n,i,o,s,a,l,u,h,c,f,d,p,m,g,b,_,y,v,w,E,k,R,I,S,C,A,x,O,T,P,F,L,U,N,j,z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function B(e){return e&&e.__esModule?e.default:e}function D(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var M={},$={},q=z.parcelRequiref443;null==q&&((q=function(e){if(e in M)return M[e].exports;if(e in $){var t=$[e];delete $[e];var r={id:e,exports:{}};return M[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){$[e]=t},z.parcelRequiref443=q),q.register("kGRcS",function(e,t){var r=q("fJ45P"),n=r.MAX_SAFE_COMPONENT_LENGTH,i=r.MAX_SAFE_BUILD_LENGTH,o=r.MAX_LENGTH,s=q("i9RZm");t=e.exports={};let a=t.re=[],l=t.safeRe=[],u=t.src=[],h=t.t={},c=0,f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[f,i]],p=e=>{for(let[t,r]of d)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},m=(e,t,r)=>{let n=p(t),i=c++;s(e,i,t),h[e]=i,u[i]=t,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${u[h.NUMERICIDENTIFIER]}|${u[h.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NUMERICIDENTIFIERLOOSE]}|${u[h.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),m("FULL",`^${u[h.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),m("LOOSE",`^${u[h.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),m("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),m("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),m("COERCERTL",u[h.COERCE],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),q.register("fJ45P",function(e,t){let r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),q.register("i9RZm",function(e,t){var r=q("kjyEk");let n=("object"==typeof r&&r.env,()=>{});e.exports=n}),q.register("kjyEk",function(e,t){}),q.register("iIDdR",function(e,t){!function(r){"use strict";function n(e,t){if(e instanceof Boolean||"boolean"==typeof e||(t instanceof Object||(t={}),t.hasOwnProperty("allowBlank")&&!t.allowBlank&&""===e))return!1;var r="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?";return t.mime&&(r="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)?"+r),!1===t.paddingRequired&&(r="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),RegExp("^"+r+"$","gi").test(e)}e.exports&&(t=e.exports=n),t.isBase64=n}(0)}),q.register("7kBR8",function(e,t){e.exports=function(e){function t(e){let n,i,o;let s=null;function a(...e){if(!a.enabled)return;let r=Number(new Date),i=r-(n||r);a.diff=i,a.prev=n,a.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";o++;let i=t.formatters[n];if("function"==typeof i){let t=e[o];r=i.call(a,t),e.splice(o,1),o--}return r}),t.formatArgs.call(a,e);let s=a.log||t.log;s.apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(n),...t.skips.map(n).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let r,n;if("*"===e[e.length-1])return!0;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=q("3pRq5"),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}}),q.register("3pRq5",function(e,t){function r(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,t){t=t||{};var n,i,o=typeof e;if("string"===o&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===o&&isFinite(e))return t.long?(n=Math.abs(e))>=864e5?r(e,n,864e5,"day"):n>=36e5?r(e,n,36e5,"hour"):n>=6e4?r(e,n,6e4,"minute"):n>=1e3?r(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}),q.register("R5nvG",function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){var t={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function c(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e,t,r,n=u(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=h(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=o(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[o(e)]},l.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},l.prototype.set=function(e,t){this.map[o(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var r,n,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new l(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),p.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},d.call(m.prototype),d.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];b.redirect=function(e,t){if(-1===_.indexOf(t))throw RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function y(r,n){return new Promise(function(i,o){var s=new m(r,n);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new b(n,r))},a.onerror=function(){o(TypeError("Network request failed"))},a.ontimeout=function(){o(TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})}y.polyfill=!0,n.fetch||(n.fetch=y,n.Headers=l,n.Request=m,n.Response=b),e.Headers=l,e.Request=m,e.Response=b,e.fetch=y,Object.defineProperty(e,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t}),q.register("lzME1",function(e,t){var r;r=function(){"use strict";function e(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}var a,l=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(e,t,r){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:r})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners){for(var r=this.listeners[e],n=0,i=r.length;n<i;n++)if(r[n].callback===t){r.splice(n,1);return}}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),r=0,n=t.length;r<n;r++){var i=t[r];try{i.callback.call(this,e)}catch(e){Promise.resolve().then(function(){throw e})}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),u=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,t);var a,u=(a=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r=n(h);if(a){var i=n(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(e=t)&&("object"==typeof e||"function"==typeof e)?e:o(this)});function h(){var t;return e(this,h),(t=u.call(this)).listeners||l.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return r(h,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(n(h.prototype),"dispatchEvent",this).call(this,e)}}]),h}(l),h=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),((a="undefined"!=typeof self?self:z).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),0):("function"!=typeof a.Request||a.Request.prototype.hasOwnProperty("signal"))&&a.AbortController)||(a.AbortController=h,a.AbortSignal=u)},"function"==typeof define&&define.amd?define(r):r()}),q.register("lAjGr",function(e,t){"use strict";e.exports=function(e){let t=q("bVDgi");return t.isFHIRResource(e)&&"Questionnaire"!==e.resourceType||t.findExtensions(e,function(e){for(let t of e)"http://hl7.org/fhir/StructureDefinition/questionnaire-launchContext"===t.url&&(t.url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext")}),e}}),q.register("bVDgi",function(e,t){"use strict";let r=/^lformsVersion: (.+)$/;e.exports={isFHIRResource:function(e){return!!e.resourceType},findExtensions:function(e,t){e.extension&&t(e.extension);let r=e.item||e.items;if(r)for(let e of r)this.findExtensions(e,t)},findItemByExtension:function(e,t){e.extension&&t(e);let r=e.item||e.items;if(r)for(let e of r)this.findItemByExtension(e,t)},versionLessThan:function(e,t){let r;if(e){let n=e.split("."),i=t.split(".");for(let e=0;e<3&&void 0===r;++e){let t=parseInt(n[e]),o=parseInt(i[e]);t!=o&&(r=t<o)}void 0===r&&(r=!1)}else r=!0;return r},makeVersionTag:function(e){return"lformsVersion: "+e},versionFromTag:function(e){let t=null,n=(e.code||e.display).match(r);return n&&(t=n[1]),t},hasLformsTag(e){if(e.meta&&e.meta.tag){for(let t of e.meta.tag)if(t.code&&t.code.match(r))return!0}return!1}}}),q.register("1m1ub",function(e,t){"use strict";e.exports=function(e){let t=q("bVDgi");return(!t.isFHIRResource(e)||"Questionnaire"===e.resourceType&&t.hasLformsTag(e))&&t.findExtensions(e,function(e){for(let t of e)if("http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod"===t.url){e.push({url:"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",valueBoolean:!0});break}}),e}}),q.register("bPSgt",function(e,t){"use strict";e.exports=function(e){return q("bVDgi").isFHIRResource(e)||("object"==typeof e.templateOptions?(void 0===e.templateOptions.hideFormControls&&(e.templateOptions.hideFormControls=!1),void 0===e.templateOptions.showFormHeader&&(e.templateOptions.showFormHeader=!0)):e.templateOptions={hideFormControls:!1,showFormHeader:!0}),e}}),q.register("7U9wy",function(e,t){"use strict";e.exports=function(e){let t=q("bVDgi");return t.isFHIRResource(e)&&"Questionnaire"!==e.resourceType||t.findExtensions(e,function(e){for(let t of e)"http://hl7.org/fhir/StructureDefinition/questionnaire-calculatedExpression"===t.url&&(t.url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression")}),e}}),q.register("63bjx",function(e,t){"use strict";function r(e,t){var r=null;if(e._parentItem&&Array.isArray(e._parentItem.items)){for(var n=0,i=e._parentItem.items.length;n<i;n++)if(e._parentItem.items[n].questionCode===t){r=e._parentItem.items[n];break}}if(!r)for(var o=e._parentItem;o;){var s=!1;if(o.questionCode===t)r=o,s=!0;else if(o._parentItem&&Array.isArray(o._parentItem.items)){for(var a=o._parentItem.items,n=0,i=a.length;n<i;n++)if(a[n].questionCode===t){r=a[n],s=!0;break}}if(s)break;o=o._parentItem}return r}e.exports=function(e){return!q("bVDgi").isFHIRResource(e)&&e.items&&(function e(t,r,n){for(var i=t.length,o=null,s=0;s<i;s++){var a=t[s];a.questionCardinality&&a.questionCardinality.max&&("*"===a.questionCardinality.max||parseInt(a.questionCardinality.max)>1)&&o&&(o.questionCode,a.questionCode);var l=r+"/"+a.questionCode;a._parentItem=n,a._codePath=l,a.linkId||(a.linkId=l),o=a,a.items&&a.items.length>0&&e(a.items,l,a)}}(e.items,"",e),function e(t){for(var n=0,i=t.length;n<i;n++){var o=t[n];if(o.skipLogic&&o.skipLogic.conditions)for(var s=0,a=o.skipLogic.conditions.length;s<a;s++){var l=o.skipLogic.conditions[s],u=r(o,l.source);l.source=u.linkId}if(o.dataControl)for(var s=0,a=o.dataControl.length;s<a;s++){var h=o.dataControl[s].source;if(h&&(!h.sourceType||"INTERNAL"===h.sourceType)&&h.sourceItemCode){var u=r(o,h.sourceItemCode);if(!u)throw Error("Data control for item '"+o.question+"' refers to source item '"+h.sourceItemCode+"' which was not found as a sibling, ancestor, or ancestor sibling.");h.sourceLinkId=u.linkId,delete h.sourceItemCode}}if(o.calculationMethod&&o.calculationMethod.value&&Array.isArray(o.calculationMethod.value)){for(var c=[],s=0,a=o.calculationMethod.value.length;s<a;s++){var f=o.calculationMethod.value[s],u=r(o,f);c.push(u.linkId)}o.calculationMethod.value=c}o.items&&o.items.length>0&&e(o.items)}}(e.items),function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r];delete i._parentItem,delete i._codePath,i.items&&i.items.length>0&&e(i.items)}}(e.items)),e}}),q.register("jfylo",function(e,t){"use strict";e.exports=function(e){let t=q("bVDgi"),r=e.meta;if(r){let e=r.tag;if(e){for(let r of e)if(t.versionFromTag(r)){r.display&&!r.code&&(r.code=r.display,delete r.display);break}}}return"Questionnaire"===e.resourceType&&t.findItemByExtension(e,function(e){if(e.extension)for(let t=0;t<e.extension.length;t++)"http://hl7.org/fhir/StructureDefinition/questionnaire-answerRepeats"===e.extension[t].url&&(e.repeats=!0,e.extension.splice(t,1),t-=1)}),e}}),q.register("8tvbb",function(e,t){"use strict";e.exports=function(e){let t=q("bVDgi");return t.isFHIRResource(e)&&"Questionnaire"!==e.resourceType||t.findExtensions(e,function(e){for(let t of e)"http://hl7.org/fhir/StructureDefinition/questionnaire-observationLinkPeriod"===t.url&&(t.url="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod")}),e}});var H={},Z={},G={},V=q("i9RZm"),X=q("fJ45P"),K=X.MAX_LENGTH,Y=X.MAX_SAFE_INTEGER,J=q("kGRcS"),Q=J.safeRe,W=J.t,ee={};const et=Object.freeze({loose:!0}),er=Object.freeze({});ee=e=>e?"object"!=typeof e?et:e:er;const en=/^[0-9]+$/,ei=(e,t)=>{let r=en.test(e),n=en.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};class eo{constructor(e,t){if(t=ee(t),e instanceof eo){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>K)throw TypeError(`version is longer than ${K} characters`);V("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?Q[W.LOOSE]:Q[W.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Y||this.major<0)throw TypeError("Invalid major version");if(this.minor>Y||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>Y||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<Y)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(V("SemVer.compare",this.version,this.options,e),!(e instanceof eo)){if("string"==typeof e&&e===this.version)return 0;e=new eo(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof eo||(e=new eo(e,this.options)),ei(this.major,e.major)||ei(this.minor,e.minor)||ei(this.patch,e.patch)}comparePre(e){if(e instanceof eo||(e=new eo(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],n=e.prerelease[t];if(V("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return ei(r,n)}while(++t)}compareBuild(e){e instanceof eo||(e=new eo(e,this.options));let t=0;do{let r=this.build[t],n=e.build[t];if(V("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;if(r===n)continue;else return ei(r,n)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===ei(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}function es(e){return new Promise((t,r)=>{e.addEventListener("error",e=>{r()}),e.addEventListener("load",e=>{t()}),"LINK"==e.tagName?document.head.appendChild(e):(e.async=!1,document.body.appendChild(e))})}"use strict";"use strict";G=eo,Z=(e,t,r)=>{let n=new G(e,r),i=new G(t,r);return n.compare(i)||n.compareBuild(i)},H=(e,t)=>e.sort((e,r)=>Z(r,e,t));var ea={},el={};"use strict";el=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e};var eu={};D(eu,"stringify",()=>eh,e=>eh=e),D(eu,"parse",()=>ec,e=>ec=e);var eh,ec,ef,ed=Object.prototype.hasOwnProperty;function ep(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function em(e){try{return encodeURIComponent(e)}catch(e){return null}}eh=function(e,t){var r,n,i=[];for(n in"string"!=typeof(t=t||"")&&(t="?"),e)if(ed.call(e,n)){if(!(r=e[n])&&(null===r||r===ef||isNaN(r))&&(r=""),n=em(n),r=em(r),null===n||null===r)continue;i.push(n+"="+r)}return i.length?t+i.join("&"):""},ec=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=ep(t[1]),o=ep(t[2]);null===i||null===o||i in n||(n[i]=o)}return n};var eg=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,eb=/[\n\r\t]/g,e_=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ey=/:\d+$/,ev=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,ew=/^[a-zA-Z]:/;function eE(e){return(e||"").toString().replace(eg,"")}var ek=[["#","hash"],["?","query"],function(e,t){return eS(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],eR={hash:1,query:1};function eI(e){var t,r=("undefined"!=typeof window?window:void 0!==z?z:"undefined"!=typeof self?self:{}).location||{},n={},i=typeof(e=e||r);if("blob:"===e.protocol)n=new eA(unescape(e.pathname),{});else if("string"===i)for(t in n=new eA(e,{}),eR)delete n[t];else if("object"===i){for(t in e)t in eR||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=e_.test(e.href))}return n}function eS(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function eC(e,t){e=(e=eE(e)).replace(eb,""),t=t||{};var r,n=ev.exec(e),i=n[1]?n[1].toLowerCase():"",o=!!n[2],s=!!n[3],a=0;return o?s?(r=n[2]+n[3]+n[4],a=n[2].length+n[3].length):(r=n[2]+n[4],a=n[2].length):s?(r=n[3]+n[4],a=n[3].length):r=n[4],"file:"===i?a>=2&&(r=r.slice(2)):eS(i)?r=n[4]:i?o&&(r=r.slice(2)):a>=2&&eS(t.protocol)&&(r=n[4]),{protocol:i,slashes:o||eS(i),slashesCount:a,rest:r}}function eA(e,t,r){if(e=(e=eE(e)).replace(eb,""),!(this instanceof eA))return new eA(e,t,r);var n,i,o,s,a,l,u=ek.slice(),h=typeof t,c=0;for("object"!==h&&"string"!==h&&(r=t,t=null),r&&"function"!=typeof r&&(r=eu.parse),t=eI(t),n=!(i=eC(e||"",t)).protocol&&!i.slashes,this.slashes=i.slashes||n&&t.slashes,this.protocol=i.protocol||t.protocol||"",e=i.rest,("file:"===i.protocol&&(2!==i.slashesCount||ew.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!eS(this.protocol)))&&(u[3]=[/(.*)/,"pathname"]);c<u.length;c++){if("function"==typeof(s=u[c])){e=s(e,this);continue}o=s[0],l=s[1],o!=o?this[l]=e:"string"==typeof o?~(a="@"===o?e.lastIndexOf(o):e.indexOf(o))&&("number"==typeof s[2]?(this[l]=e.slice(0,a),e=e.slice(a+s[2])):(this[l]=e.slice(a),e=e.slice(0,a))):(a=o.exec(e))&&(this[l]=a[1],e=e.slice(0,a.index)),this[l]=this[l]||n&&s[3]&&t[l]||"",s[4]&&(this[l]=this[l].toLowerCase())}r&&(this.query=r(this.query)),n&&t.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==t.pathname)&&(this.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(o=!0),r.splice(n,1),s--);return o&&r.unshift(""),("."===i||".."===i)&&r.push(""),r.join("/")}(this.pathname,t.pathname)),"/"!==this.pathname.charAt(0)&&eS(this.protocol)&&(this.pathname="/"+this.pathname),el(this.port,this.protocol)||(this.host=this.hostname,this.port=""),this.username=this.password="",this.auth&&(~(a=this.auth.indexOf(":"))?(this.username=this.auth.slice(0,a),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=this.auth.slice(a+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(this.auth)),this.auth=this.password?this.username+":"+this.password:this.username),this.origin="file:"!==this.protocol&&eS(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString()}"use strict";"use strict";eA.prototype={set:function(e,t,r){switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||eu.parse)(t)),this[e]=t;break;case"port":this[e]=t,el(t,this.protocol)?t&&(this.host=this.hostname+":"+t):(this.host=this.hostname,this[e]="");break;case"hostname":this[e]=t,this.port&&(t+=":"+this.port),this.host=t;break;case"host":this[e]=t,ey.test(t)?(t=t.split(":"),this.port=t.pop(),this.hostname=t.join(":")):(this.hostname=t,this.port="");break;case"protocol":this.protocol=t.toLowerCase(),this.slashes=!r;break;case"pathname":case"hash":if(t){var n="pathname"===e?"/":"#";this[e]=t.charAt(0)!==n?n+t:t}else this[e]=t;break;case"username":case"password":this[e]=encodeURIComponent(t);break;case"auth":var i=t.indexOf(":");~i?(this.username=t.slice(0,i),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=t.slice(i+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(t))}for(var o=0;o<ek.length;o++){var s=ek[o];s[4]&&(this[s[1]]=this[s[1]].toLowerCase())}return this.auth=this.password?this.username+":"+this.password:this.username,this.origin="file:"!==this.protocol&&eS(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(e){e&&"function"==typeof e||(e=eu.stringify);var t,r=this.host,n=this.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(this.protocol&&this.slashes||eS(this.protocol)?"//":"");return this.username?(i+=this.username,this.password&&(i+=":"+this.password),i+="@"):this.password?i+=":"+this.password+"@":"file:"!==this.protocol&&eS(this.protocol)&&!r&&"/"!==this.pathname&&(i+="@"),(":"===r[r.length-1]||ey.test(this.hostname)&&!this.port)&&(r+=":"),i+=r+this.pathname,(t="object"==typeof this.query?e(this.query):this.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),this.hash&&(i+=this.hash),i}},eA.extractProtocol=eC,eA.location=eI,eA.trimLeft=eE,eA.qs=eu,ea=eA;var ex={},eO={},eT="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;eO.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}return e},eO.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var eP={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,s;for(t=0,n=0,r=e.length;t<r;t++)n+=e[t].length;for(t=0,s=new Uint8Array(n),i=0,r=e.length;t<r;t++)o=e[t],s.set(o,i),i+=o.length;return s}},eF={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};"use strict";"use strict";"use strict";eO.setTyped=function(e){e?(eO.Buf8=Uint8Array,eO.Buf16=Uint16Array,eO.Buf32=Int32Array,eO.assign(eO,eP)):(eO.Buf8=Array,eO.Buf16=Array,eO.Buf32=Array,eO.assign(eO,eF))},eO.setTyped(eT);var eL=eO.assign,eU={};function eN(e){for(var t=e.length;--t>=0;)e[t]=0}D(eU,"Deflate",()=>e,t=>e=t),D(eU,"deflate",()=>t,e=>t=e),D(eU,"deflateRaw",()=>r,e=>r=e),D(eU,"gzip",()=>n,e=>n=e);var ej=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ez=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],eB=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],eD=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],eM=Array(576);eN(eM);var e$=Array(60);eN(e$);var eq=Array(512);eN(eq);var eH=Array(256);eN(eH);var eZ=Array(29);eN(eZ);var eG=Array(30);function eV(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function eX(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function eK(e){return e<256?eq[e]:eq[256+(e>>>7)]}function eY(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function eJ(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,eY(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function eQ(e,t,r){eJ(e,r[2*t],r[2*t+1])}function eW(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function e0(e,t,r){var n,i,o=Array(16),s=0;for(n=1;n<=15;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=eW(o[a]++,a))}}function e1(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function e2(e){e.bi_valid>8?eY(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function e3(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function e5(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&e3(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!e3(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function e6(e,t,r){var n,i,o,s,a=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===n?eQ(e,i,t):(eQ(e,(o=eH[i])+256+1,t),0!==(s=ej[o])&&eJ(e,i-=eZ[o],s),eQ(e,o=eK(--n),r),0!==(s=ez[o])&&eJ(e,n-=eG[o],s));while(a<e.last_lit)eQ(e,256,t)}function e8(e,t){var r,n,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(r=0,e.heap_len=0,e.heap_max=573;r<l;r++)0!==o[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)e5(e,o,r);i=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e5(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,e5(e,o,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,s,a,l=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(o=l[2*l[2*(n=e.heap[r])+1]+1]+1)>p&&(o=p,m++),l[2*n+1]=o,!(n>u)&&(e.bl_count[o]++,s=0,n>=d&&(s=f[n-d]),a=l[2*n],e.opt_len+=a*(o+s),c&&(e.static_len+=a*(h[2*n+1]+s)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0)for(o=p;0!==o;o--)for(n=e.bl_count[o];0!==n;)!((i=e.heap[--r])>u)&&(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),n--)}}(e,t),e0(o,u,e.bl_count)}function e4(e,t,r){var n,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=t[(n+1)*2+1],++a<l&&i===s||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))}function e9(e,t,r){var n,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),n=0;n<=r;n++)if(i=s,s=t[(n+1)*2+1],!(++a<l)||i!==s){if(a<u)do eQ(e,i,e.bl_tree);while(0!=--a)else 0!==i?(i!==o&&(eQ(e,i,e.bl_tree),a--),eQ(e,16,e.bl_tree),eJ(e,a-3,2)):a<=10?(eQ(e,17,e.bl_tree),eJ(e,a-3,3)):(eQ(e,18,e.bl_tree),eJ(e,a-11,7));a=0,o=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}}eN(eG);var e7=!1;function te(e,t,r,n){eJ(e,0+(n?1:0),3),e2(e),eY(e,r),eY(e,~r),eO.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}"use strict";a=function(e){e7||(function(){var e,t,r,n,i,o=Array(16);for(n=0,r=0;n<28;n++)for(e=0,eZ[n]=r;e<1<<ej[n];e++)eH[r++]=n;for(eH[r-1]=n,i=0,n=0;n<16;n++)for(e=0,eG[n]=i;e<1<<ez[n];e++)eq[i++]=n;for(i>>=7;n<30;n++)for(e=0,eG[n]=i<<7;e<1<<ez[n]-7;e++)eq[256+i++]=n;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)eM[2*e+1]=8,e++,o[8]++;for(;e<=255;)eM[2*e+1]=9,e++,o[9]++;for(;e<=279;)eM[2*e+1]=7,e++,o[7]++;for(;e<=287;)eM[2*e+1]=8,e++,o[8]++;for(e0(eM,287,o),e=0;e<30;e++)e$[2*e+1]=5,e$[2*e]=eW(e,5);c=new eV(eM,ej,257,286,15),f=new eV(e$,ez,0,30,15),d=new eV([],eB,0,19,7)}(),e7=!0),e.l_desc=new eX(e.dyn_ltree,c),e.d_desc=new eX(e.dyn_dtree,f),e.bl_desc=new eX(e.bl_tree,d),e.bi_buf=0,e.bi_valid=0,e1(e)},l=function(e,t,r,n){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),e8(e,e.l_desc),e8(e,e.d_desc),s=function(e){var t;for(e4(e,e.dyn_ltree,e.l_desc.max_code),e4(e,e.dyn_dtree,e.d_desc.max_code),e8(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*eD[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?te(e,t,r,n):4===e.strategy||o===i?(eJ(e,2+(n?1:0),3),e6(e,eM,e$)):(eJ(e,4+(n?1:0),3),function(e,t,r,n){var i;for(eJ(e,t-257,5),eJ(e,r-1,5),eJ(e,n-4,4),i=0;i<n;i++)eJ(e,e.bl_tree[2*eD[i]+1],3);e9(e,e.dyn_ltree,t-1),e9(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),e6(e,e.dyn_ltree,e.dyn_dtree)),e1(e),n&&e2(e)},u=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(eH[r]+256+1)*2]++,e.dyn_dtree[2*eK(t)]++),e.last_lit===e.lit_bufsize-1},h=function(e){eJ(e,2,3),eQ(e,256,eM),16===e.bi_valid?(eY(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)};var tt={};"use strict";tt=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do o=o+(i=i+t[n++]|0)|0;while(--s)i%=65521,o%=65521}return i|o<<16|0};var tr={},tn=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();"use strict";tr=function(e,t,r,n){var i=n+r;e^=-1;for(var o=n;o<i;o++)e=e>>>8^tn[(e^t[o])&255];return -1^e};var ti={};ti={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function to(e,t){return e.msg=ti[t],t}function ts(e){return(e<<1)-(e>4?9:0)}function ta(e){for(var t=e.length;--t>=0;)e[t]=0}function tl(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(eO.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function tu(e,t){l(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,tl(e.strm)}function th(e,t){e.pending_buf[e.pending++]=t}function tc(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function tf(e,t){var r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,h=e.w_mask,c=e.prev,f=e.strstart+258,d=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(r=t)+s]!==p||u[r+s-1]!==d||u[r]!==u[o]||u[++r]!==u[o+1])continue;o+=2,r++;do;while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<f)if(n=258-(f-o),o=f-258,n>s){if(e.match_start=t,s=n,n>=a)break;d=u[o+s-1],p=u[o+s]}}while((t=c[t&h])>l&&0!=--i)return s<=e.lookahead?s:e.lookahead}function td(e){var t,r,n,i,o,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-262)){eO.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=r=e.hash_size;do n=e.head[--t],e.head[t]=n>=s?n-s:0;while(--r)t=r=s;do n=e.prev[--t],e.prev[t]=n>=s?n-s:0;while(--r)i+=s}if(0===e.strm.avail_in)break;if(r=function(e,t,r,n){var i=e.avail_in;return(i>n&&(i=n),0===i)?0:(e.avail_in-=i,eO.arraySet(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=tt(e.adler,t,i,r):2===e.state.wrap&&(e.adler=tr(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+3-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function tp(e,t){for(var r,n;;){if(e.lookahead<262){if(td(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=tf(e,r)),e.match_length>=3){if(n=u(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}else n=u(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(tu(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(tu(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(tu(e,!1),0===e.strm.avail_out)?1:2}function tm(e,t){for(var r,n,i;;){if(e.lookahead<262){if(td(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=tf(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=u(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(tu(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=u(e,0,e.window[e.strstart-1]))&&tu(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=u(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(tu(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(tu(e,!1),0===e.strm.avail_out)?1:2}function tg(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function tb(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new eO.Buf16(1146),this.dyn_dtree=new eO.Buf16(122),this.bl_tree=new eO.Buf16(78),ta(this.dyn_ltree),ta(this.dyn_dtree),ta(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new eO.Buf16(16),this.heap=new eO.Buf16(573),ta(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new eO.Buf16(573),ta(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}"use strict";p=[new tg(0,0,0,0,function(e,t){var r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(td(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,tu(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(tu(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(tu(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(tu(e,!1),e.strm.avail_out),1)}),new tg(4,4,8,4,tp),new tg(4,5,16,8,tp),new tg(4,6,32,32,tp),new tg(4,4,16,16,tm),new tg(8,16,32,32,tm),new tg(8,16,128,128,tm),new tg(8,32,128,256,tm),new tg(32,128,258,1024,tm),new tg(32,258,258,4096,tm)],i=function(e,t){if(!e||!e.state||t>5||t<0)return e?to(e,-2):-2;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return to(e,0===e.avail_out?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status){if(2===n.wrap)e.adler=0,th(n,31),th(n,139),th(n,8),n.gzhead?(th(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),th(n,255&n.gzhead.time),th(n,n.gzhead.time>>8&255),th(n,n.gzhead.time>>16&255),th(n,n.gzhead.time>>24&255),th(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),th(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(th(n,255&n.gzhead.extra.length),th(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=tr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(th(n,0),th(n,0),th(n,0),th(n,0),th(n,0),th(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),th(n,3),n.status=113);else{var r,n,i,o,s=8+(n.w_bits-8<<4)<<8;s|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=113,tc(n,s),0!==n.strstart&&(tc(n,e.adler>>>16),tc(n,65535&e.adler)),e.adler=1}}if(69===n.status){if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=tr(e.adler,n.pending_buf,n.pending-i,i)),tl(e),i=n.pending,n.pending!==n.pending_buf_size));)th(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=tr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73}if(73===n.status){if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=tr(e.adler,n.pending_buf,n.pending-i,i)),tl(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,th(n,o)}while(0!==o)n.gzhead.hcrc&&n.pending>i&&(e.adler=tr(e.adler,n.pending_buf,n.pending-i,i)),0===o&&(n.gzindex=0,n.status=91)}else n.status=91}if(91===n.status){if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=tr(e.adler,n.pending_buf,n.pending-i,i)),tl(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,th(n,o)}while(0!==o)n.gzhead.hcrc&&n.pending>i&&(e.adler=tr(e.adler,n.pending_buf,n.pending-i,i)),0===o&&(n.status=103)}else n.status=103}if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tl(e),n.pending+2<=n.pending_buf_size&&(th(n,255&e.adler),th(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(tl(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&ts(t)<=ts(r)&&4!==t)return to(e,-5);if(666===n.status&&0!==e.avail_in)return to(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&666!==n.status){var a=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(td(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=u(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(tu(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(tu(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(tu(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=258){if(td(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o)e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=u(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(tu(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(tu(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(tu(e,!1),0===e.strm.avail_out)?1:2}(n,t):p[n.level].func(n,t);if((3===a||4===a)&&(n.status=666),1===a||3===a)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===a&&(1===t?h(n):5!==t&&(te(n,0,0,!1),3===t&&(ta(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tl(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(th(n,255&e.adler),th(n,e.adler>>8&255),th(n,e.adler>>16&255),th(n,e.adler>>24&255),th(n,255&e.total_in),th(n,e.total_in>>8&255),th(n,e.total_in>>16&255),th(n,e.total_in>>24&255)):(tc(n,e.adler>>>16),tc(n,65535&e.adler)),tl(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},o=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?to(e,-2):(e.state=null,113===t?to(e,-3):0):-2},s=function(e,t){var r,n,i,o,s,a,l,u,h=t.length;if(!e||!e.state||2===(o=(r=e.state).wrap)||1===o&&42!==r.status||r.lookahead)return -2;for(1===o&&(e.adler=tt(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===o&&(ta(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new eO.Buf8(r.w_size),eO.arraySet(u,t,h-r.w_size,r.w_size,0),t=u,h=r.w_size),s=e.avail_in,a=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,td(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i)r.strstart=n,r.lookahead=2,td(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=l,e.avail_in=s,r.wrap=o,0};var t_=!0,ty=!0;try{String.fromCharCode.apply(null,[0])}catch(e){t_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ty=!1}for(var tv=new eO.Buf8(256),tw=0;tw<256;tw++)tv[tw]=tw>=252?6:tw>=248?5:tw>=240?4:tw>=224?3:tw>=192?2:1;function tE(e,t){if(t<65534&&(e.subarray&&ty||!e.subarray&&t_))return String.fromCharCode.apply(null,eO.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}"use strict";tv[254]=tv[254]=1,m=function(e){var t,r,n,i,o,s=e.length,a=0;for(i=0;i<s;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),a+=r<128?1:r<2048?2:r<65536?3:4;for(o=0,t=new eO.Buf8(a),i=0;o<a;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},g=function(e){for(var t=new eO.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},b=function(e,t){var r,n,i,o,s=t||e.length,a=Array(2*s);for(n=0,r=0;r<s;){if((i=e[r++])<128){a[n++]=i;continue}if((o=tv[i])>4){a[n++]=65533,r+=o-1;continue}for(i&=2===o?31:3===o?15:7;o>1&&r<s;)i=i<<6|63&e[r++],o--;if(o>1){a[n++]=65533;continue}i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return tE(a,n)},_=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+tv[e[r]]>t?r:t};var tk={};tk=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var tR=Object.prototype.toString;function tI(e){if(!(this instanceof tI))return new tI(e);this.options=eO.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t,r,n,i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tk,this.strm.avail_out=0;var o=function(e,t,r,n,i,o){if(!e)return -2;var s,l,u,h,c=1;if(-1===t&&(t=6),n<0?(c=0,n=-n):n>15&&(c=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||o<0||o>4)return to(e,-2);8===n&&(n=9);var f=new tb;return e.state=f,f.strm=e,f.wrap=c,f.gzhead=null,f.w_bits=n,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=i+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+3-1)/3),f.window=new eO.Buf8(2*f.w_size),f.head=new eO.Buf16(f.hash_size),f.prev=new eO.Buf16(f.w_size),f.lit_bufsize=1<<i+6,f.pending_buf_size=4*f.lit_bufsize,f.pending_buf=new eO.Buf8(f.pending_buf_size),f.d_buf=1*f.lit_bufsize,f.l_buf=3*f.lit_bufsize,f.level=t,f.strategy=o,f.method=r,h=(s=e)&&s.state?(s.total_in=s.total_out=0,s.data_type=2,(l=s.state).pending=0,l.pending_out=0,l.wrap<0&&(l.wrap=-l.wrap),l.status=l.wrap?42:113,s.adler=2===l.wrap?0:1,l.last_flush=0,a(l),0):to(s,-2),0===h&&((u=s.state).window_size=2*u.w_size,ta(u.head),u.max_lazy_match=p[u.level].max_lazy,u.good_match=p[u.level].good_length,u.nice_match=p[u.level].nice_length,u.max_chain_length=p[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=2,u.match_available=0,u.ins_h=0),h}(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(0!==o)throw Error(ti[o]);if(i.header&&(t=this.strm,r=i.header,t&&t.state&&2===t.state.wrap&&(t.state.gzhead=r)),i.dictionary){if(n="string"==typeof i.dictionary?m(i.dictionary):"[object ArrayBuffer]"===tR.call(i.dictionary)?new Uint8Array(i.dictionary):i.dictionary,0!==(o=s(this.strm,n)))throw Error(ti[o]);this._dict_set=!0}}function tS(e,t){var r=new tI(t);if(r.push(e,!0),r.err)throw r.msg||ti[r.err];return r.result}"use strict";"use strict";tI.prototype.push=function(e,t){var r,n,s,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=m(e):"[object ArrayBuffer]"===tR.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new eO.Buf8(l),a.next_out=0,a.avail_out=l),1!==(n=i(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;(0===a.avail_out||0===a.avail_in&&(4===s||2===s))&&("string"===this.options.to?this.onData(tE(r=eO.shrinkBuf(a.output,a.next_out),r.length)):this.onData(eO.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n)return 4===s?(n=o(this.strm),this.onEnd(n),this.ended=!0,0===n):(2===s&&(this.onEnd(0),a.avail_out=0),!0)},tI.prototype.onData=function(e){this.chunks.push(e)},tI.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e=tI,t=tS,r=function(e,t){return(t=t||{}).raw=!0,tS(e,t)},n=function(e,t){return(t=t||{}).gzip=!0,tS(e,t)};var tC={};"use strict";D(tC,"Inflate",()=>y,e=>y=e),D(tC,"inflate",()=>v,e=>v=e),D(tC,"inflateRaw",()=>w,e=>w=e),D(tC,"ungzip",()=>E,e=>E=e);var tA={};"use strict";tA=function(e,t){var r,n,i,o,s,a,l,u,h,c,f,d,p,m,g,b,_,y,v,w,E,k,R,I,S;r=e.state,n=e.next_in,I=e.input,i=n+(e.avail_in-5),o=e.next_out,S=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=r.dmax,u=r.wsize,h=r.whave,c=r.wnext,f=r.window,d=r.hold,p=r.bits,m=r.lencode,g=r.distcode,b=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do for(p<15&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),y=m[d&b];;){if(d>>>=v=y>>>24,p-=v,0==(v=y>>>16&255))S[o++]=65535&y;else if(16&v)for(w=65535&y,(v&=15)&&(p<v&&(d+=I[n++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=I[n++]<<p,p+=8,d+=I[n++]<<p,p+=8),y=g[d&_];;){if(d>>>=v=y>>>24,p-=v,16&(v=y>>>16&255)){if(E=65535&y,p<(v&=15)&&(d+=I[n++]<<p,(p+=8)<v&&(d+=I[n++]<<p,p+=8)),(E+=d&(1<<v)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=v,p-=v,E>(v=o-s)){if((v=E-v)>h&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(k=0,R=f,0===c){if(k+=u-v,v<w){w-=v;do S[o++]=f[k++];while(--v)k=o-E,R=S}}else if(c<v){if(k+=u+c-v,(v-=c)<w){w-=v;do S[o++]=f[k++];while(--v)if(k=0,c<w){w-=v=c;do S[o++]=f[k++];while(--v)k=o-E,R=S}}}else if(k+=c-v,v<w){w-=v;do S[o++]=f[k++];while(--v)k=o-E,R=S}for(;w>2;)S[o++]=R[k++],S[o++]=R[k++],S[o++]=R[k++],w-=3;w&&(S[o++]=R[k++],w>1&&(S[o++]=R[k++]))}else{k=o-E;do S[o++]=S[k++],S[o++]=S[k++],S[o++]=S[k++],w-=3;while(w>2)w&&(S[o++]=S[k++],w>1&&(S[o++]=S[k++]))}}else if((64&v)==0){y=g[(65535&y)+(d&(1<<v)-1)];continue}else{e.msg="invalid distance code",r.mode=30;break e}break}else if((64&v)==0){y=m[(65535&y)+(d&(1<<v)-1)];continue}else if(32&v){r.mode=12;break e}else{e.msg="invalid literal/length code",r.mode=30;break e}break}while(n<i&&o<a)n-=w=p>>3,p-=w<<3,d&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<a?257+(a-o):257-(o-a),r.hold=d,r.bits=p};var tx={},tO=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],tT=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],tP=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],tF=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function tL(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function tU(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new eO.Buf16(320),this.work=new eO.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}tx=function(e,t,r,n,i,o,s,a){var l,u,h,c,f,d,p,m,g,b=a.bits,_=0,y=0,v=0,w=0,E=0,k=0,R=0,I=0,S=0,C=0,A=null,x=0,O=new eO.Buf16(16),T=new eO.Buf16(16),P=null,F=0;for(_=0;_<=15;_++)O[_]=0;for(y=0;y<n;y++)O[t[r+y]]++;for(w=15,E=b;w>=1&&0===O[w];w--);if(E>w&&(E=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(v=1;v<w&&0===O[v];v++);for(E<v&&(E=v),I=1,_=1;_<=15;_++)if(I<<=1,(I-=O[_])<0)return -1;if(I>0&&(0===e||1!==w))return -1;for(_=1,T[1]=0;_<15;_++)T[_+1]=T[_]+O[_];for(y=0;y<n;y++)0!==t[r+y]&&(s[T[t[r+y]]++]=y);if(0===e?(A=P=s,d=19):1===e?(A=tO,x-=257,P=tT,F-=257,d=256):(A=tP,P=tF,d=-1),C=0,y=0,_=v,f=o,k=E,R=0,h=-1,c=(S=1<<E)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=_-R,s[y]<d?(m=0,g=s[y]):s[y]>d?(m=P[F+s[y]],g=A[x+s[y]]):(m=96,g=0),l=1<<_-R,v=u=1<<k;do i[f+(C>>R)+(u-=l)]=p<<24|m<<16|g|0;while(0!==u)for(l=1<<_-1;C&l;)l>>=1;if(0!==l?(C&=l-1,C+=l):C=0,y++,0==--O[_]){if(_===w)break;_=t[r+s[y]]}if(_>E&&(C&c)!==h){for(0===R&&(R=E),f+=v,I=1<<(k=_-R);k+R<w&&!((I-=O[k+R])<=0);)k++,I<<=1;if(S+=1<<k,1===e&&S>852||2===e&&S>592)return 1;i[h=C&c]=E<<24|k<<16|f-o|0}}return 0!==C&&(i[f+C]=_-R<<24|4194304),a.bits=E,0};var tN=!0;function tj(e,t,r,n){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new eO.Buf8(o.wsize)),n>=o.wsize?(eO.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>n&&(i=n),eO.arraySet(o.window,t,r-n,i,o.wnext),(n-=i)?(eO.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}"use strict";k=function(e,t){var r,n,i,o,s,a,l,u,h,c,f,d,p,m,g,b,_,y,v,w,E,k,R,I,S=0,x=new eO.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(r=e.state).mode&&(r.mode=13),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,u=r.hold,h=r.bits,c=a,f=l,k=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(2&r.wrap&&35615===u){r.check=0,x[0]=255&u,x[1]=u>>>8&255,r.check=tr(r.check,x,2,0),u=0,h=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&u)!=8){e.msg="unknown compression method",r.mode=30;break}if(u>>>=4,h-=4,E=(15&u)+8,0===r.wbits)r.wbits=E;else if(E>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<E,e.adler=r.check=1,r.mode=512&u?10:12,u=0,h=0;break;case 2:for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(r.flags=u,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=tr(r.check,x,2,0)),u=0,h=0,r.mode=3;case 3:for(;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.head&&(r.head.time=u),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,r.check=tr(r.check,x,4,0)),u=0,h=0,r.mode=4;case 4:for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=tr(r.check,x,2,0)),u=0,h=0,r.mode=5;case 5:if(1024&r.flags){for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=tr(r.check,x,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>a&&(d=a),d&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),eO.arraySet(r.head.extra,n,o,d,E)),512&r.flags&&(r.check=tr(r.check,n,d,o)),a-=d,o+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break t;d=0;do E=n[o+d++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&d<a)if(512&r.flags&&(r.check=tr(r.check,n,d,o)),a-=d,o+=d,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break t;d=0;do E=n[o+d++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&d<a)if(512&r.flags&&(r.check=tr(r.check,n,d,o)),a-=d,o+=d,E)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}e.adler=r.check=tL(u),u=0,h=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,r.hold=u,r.bits=h,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break t;case 13:if(r.last){u>>>=7&h,h-=7&h,r.mode=27;break}for(;h<3;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}switch(r.last=1&u,h-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(function(e){if(tN){var t;for(C=new eO.Buf32(512),A=new eO.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tx(1,e.lens,0,288,C,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tx(2,e.lens,0,32,A,0,e.work,{bits:5}),tN=!1}e.lencode=C,e.lenbits=9,e.distcode=A,e.distbits=5}(r),r.mode=20,6===t){u>>>=2,h-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,h-=2;break;case 14:for(u>>>=7&h,h-=7&h;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,u=0,h=0,r.mode=15,6===t)break t;case 15:r.mode=16;case 16:if(d=r.length){if(d>a&&(d=a),d>l&&(d=l),0===d)break t;eO.arraySet(i,n,o,d,s),a-=d,o+=d,l-=d,s+=d,r.length-=d;break}r.mode=12;break;case 17:for(;h<14;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(r.nlen=(31&u)+257,u>>>=5,h-=5,r.ndist=(31&u)+1,u>>>=5,h-=5,r.ncode=(15&u)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;h<3;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.lens[O[r.have++]]=7&u,u>>>=3,h-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},k=tx(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,k){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(S=r.lencode[u&(1<<r.lenbits)-1])>>>24,b=S>>>16&255,_=65535&S,!(g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(_<16)u>>>=g,h-=g,r.lens[r.have++]=_;else{if(16===_){for(I=g+2;h<I;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(u>>>=g,h-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}E=r.lens[r.have-1],d=3+(3&u),u>>>=2,h-=2}else if(17===_){for(I=g+3;h<I;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=g,h-=g,E=0,d=3+(7&u),u>>>=3,h-=3}else{for(I=g+7;h<I;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=g,h-=g,E=0,d=11+(127&u),u>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=E}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},k=tx(1,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,k){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},k=tx(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,k){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break t;case 20:r.mode=21;case 21:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,r.hold=u,r.bits=h,tA(e,f),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,u=r.hold,h=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(S=r.lencode[u&(1<<r.lenbits)-1])>>>24,b=S>>>16&255,_=65535&S,!(g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(b&&(240&b)==0){for(y=g,v=b,w=_;g=(S=r.lencode[w+((u&(1<<y+v)-1)>>y)])>>>24,b=S>>>16&255,_=65535&S,!(y+g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=y,h-=y,r.back+=y}if(u>>>=g,h-=g,r.back+=g,r.length=_,0===b){r.mode=26;break}if(32&b){r.back=-1,r.mode=12;break}if(64&b){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&b,r.mode=22;case 22:if(r.extra){for(I=r.extra;h<I;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(S=r.distcode[u&(1<<r.distbits)-1])>>>24,b=S>>>16&255,_=65535&S,!(g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if((240&b)==0){for(y=g,v=b,w=_;g=(S=r.distcode[w+((u&(1<<y+v)-1)>>y)])>>>24,b=S>>>16&255,_=65535&S,!(y+g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=y,h-=y,r.back+=y}if(u>>>=g,h-=g,r.back+=g,64&b){e.msg="invalid distance code",r.mode=30;break}r.offset=_,r.extra=15&b,r.mode=24;case 24:if(r.extra){for(I=r.extra;h<I;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===l)break t;if(d=f-l,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=s-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do i[s++]=m[p++];while(--d)0===r.length&&(r.mode=21);break;case 26:if(0===l)break t;i[s++]=r.length,l--,r.mode=21;break;case 27:if(r.wrap){for(;h<32;){if(0===a)break t;a--,u|=n[o++]<<h,h+=8}if(f-=l,e.total_out+=f,r.total+=f,f&&(e.adler=r.check=r.flags?tr(r.check,i,f,s-f):tt(r.check,i,f,s-f)),f=l,(r.flags?u:tL(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}u=0,h=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}u=0,h=0}r.mode=29;case 29:k=1;break t;case 30:k=-3;break t;case 31:return -4;default:return -2}return(e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,r.hold=u,r.bits=h,(r.wsize||f!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&tj(e,e.output,e.next_out,f-e.avail_out))?(r.mode=31,-4):(c-=e.avail_in,f-=e.avail_out,e.total_in+=c,e.total_out+=f,r.total+=f,r.wrap&&f&&(e.adler=r.check=r.flags?tr(r.check,i,f,e.next_out-f):tt(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===c&&0===f||4===t)&&0===k&&(k=-5),k)},R=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},I=function(e,t){var r;return e&&e.state&&(2&(r=e.state).wrap)!=0?(r.head=t,t.done=!1,0):-2},S=function(e,t){var r,n=t.length;return e&&e.state&&(0===(r=e.state).wrap||11===r.mode)?11===r.mode&&tt(1,t,n,0)!==r.check?-3:tj(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):-2};var tz={};"use strict";tz={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var tB={};tB=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};var tD=Object.prototype.toString;function tM(e){if(!(this instanceof tM))return new tM(e);this.options=eO.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t,r,n,i,o,s,a,l,u,h,c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(e&&e.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(15&c.windowBits)==0&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tk,this.strm.avail_out=0;var f=(i=this.strm,o=c.windowBits,i?(a=new tU,i.state=a,a.window=null,l=o,0!=(s=i&&i.state?(h=i.state,l<0?(u=0,l=-l):(u=(l>>4)+1,l<48&&(l&=15)),l&&(l<8||l>15))?-2:(null!==h.window&&h.wbits!==l&&(h.window=null),h.wrap=u,h.wbits=l,(t=i)&&t.state?((r=t.state).wsize=0,r.whave=0,r.wnext=0,t&&t.state?(n=t.state,t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new eO.Buf32(852),n.distcode=n.distdyn=new eO.Buf32(592),n.sane=1,n.back=-1,0):-2):-2):-2)&&(i.state=null),s):-2);if(f!==tz.Z_OK||(this.header=new tB,I(this.strm,this.header),c.dictionary&&("string"==typeof c.dictionary?c.dictionary=m(c.dictionary):"[object ArrayBuffer]"===tD.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(f=S(this.strm,c.dictionary))!==tz.Z_OK)))throw Error(ti[f])}function t$(e,t){var r=new tM(t);if(r.push(e,!0),r.err)throw r.msg||ti[r.err];return r.result}tM.prototype.push=function(e,t){var r,n,i,o,s,a=this.strm,l=this.options.chunkSize,u=this.options.dictionary,h=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?tz.Z_FINISH:tz.Z_NO_FLUSH,"string"==typeof e?a.input=g(e):"[object ArrayBuffer]"===tD.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new eO.Buf8(l),a.next_out=0,a.avail_out=l),(r=k(a,tz.Z_NO_FLUSH))===tz.Z_NEED_DICT&&u&&(r=S(this.strm,u)),r===tz.Z_BUF_ERROR&&!0===h&&(r=tz.Z_OK,h=!1),r!==tz.Z_STREAM_END&&r!==tz.Z_OK)return this.onEnd(r),this.ended=!0,!1;a.next_out&&(0===a.avail_out||r===tz.Z_STREAM_END||0===a.avail_in&&(n===tz.Z_FINISH||n===tz.Z_SYNC_FLUSH))&&("string"===this.options.to?(i=_(a.output,a.next_out),o=a.next_out-i,s=b(a.output,i),a.next_out=o,a.avail_out=l-o,o&&eO.arraySet(a.output,a.output,i,o,0),this.onData(s)):this.onData(eO.shrinkBuf(a.output,a.next_out))),0===a.avail_in&&0===a.avail_out&&(h=!0)}while((a.avail_in>0||0===a.avail_out)&&r!==tz.Z_STREAM_END)return(r===tz.Z_STREAM_END&&(n=tz.Z_FINISH),n===tz.Z_FINISH)?(r=R(this.strm),this.onEnd(r),this.ended=!0,r===tz.Z_OK):(n===tz.Z_SYNC_FLUSH&&(this.onEnd(tz.Z_OK),a.avail_out=0),!0)},tM.prototype.onData=function(e){this.chunks.push(e)},tM.prototype.onEnd=function(e){e===tz.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},y=tM,v=t$,w=function(e,t){return(t=t||{}).raw=!0,t$(e,t)},E=t$;var tq={};eL(tq,eU,tC,tz),ex=tq;var tH={};"use strict";!function(e,t){"function"==typeof define&&define.amd?define([],t):tH=t()}(0,function(){"use strict";function e(e){if("function"!=typeof Promise)throw Error("Promise implementation not available in this environment.");var t=[],r=[];function n(e){for(var n=0,i=t.length;n<i;++n)t[n](e);r.push(e)}var i=new Promise(function(t,r){e(t,r,n)});i.progress=function(e){if("function"!=typeof e)throw Error("cb is not a function.");for(var n=0,o=r.length;n<o;++n)e(r[n]);return t.push(e),i};var o=i.then;return i.then=function(e,t,r){return o.call(i,e,t),void 0!==r&&i.progress(r),i},i}var t=(window||this).URL.createObjectURL(new Blob(['"use strict";function UntarWorker(){}var worker;function decodeUTF8(e){for(var r="",t=0;t<e.length;){var a=e[t++];if(127<a){if(191<a&&a<224){if(t>=e.length)throw"UTF-8 decode: incomplete 2-byte sequence";a=(31&a)<<6|63&e[t]}else if(223<a&&a<240){if(t+1>=e.length)throw"UTF-8 decode: incomplete 3-byte sequence";a=(15&a)<<12|(63&e[t])<<6|63&e[++t]}else{if(!(239<a&&a<248))throw"UTF-8 decode: unknown multibyte start 0x"+a.toString(16)+" at index "+(t-1);if(t+2>=e.length)throw"UTF-8 decode: incomplete 4-byte sequence";a=(7&a)<<18|(63&e[t])<<12|(63&e[++t])<<6|63&e[++t]}++t}if(a<=65535)r+=String.fromCharCode(a);else{if(!(a<=1114111))throw"UTF-8 decode: code point 0x"+a.toString(16)+" exceeds UTF-16 reach";a-=65536,r+=String.fromCharCode(a>>10|55296),r+=String.fromCharCode(1023&a|56320)}}return r}function PaxHeader(e){this._fields=e}function TarFile(){}function UntarStream(e){this._bufferView=new DataView(e),this._position=0}function UntarFileStream(e){this._stream=new UntarStream(e),this._globalPaxHeader=null}UntarWorker.prototype={onmessage:function(e){try{if("extract"!==e.data.type)throw new Error("Unknown message type: "+e.data.type);this.untarBuffer(e.data.buffer)}catch(e){this.postError(e)}},postError:function(e){this.postMessage({type:"error",data:{message:e.message}})},postLog:function(e,r){this.postMessage({type:"log",data:{level:e,msg:r}})},untarBuffer:function(e){try{for(var r=new UntarFileStream(e);r.hasNext();){var t=r.next();this.postMessage({type:"extract",data:t},[t.buffer])}this.postMessage({type:"complete"})}catch(e){this.postError(e)}},postMessage:function(e,r){self.postMessage(e,r)}},"undefined"!=typeof self&&(worker=new UntarWorker,self.onmessage=function(e){worker.onmessage(e)}),PaxHeader.parse=function(e){for(var r=new Uint8Array(e),t=[];0<r.length;){var a=parseInt(decodeUTF8(r.subarray(0,r.indexOf(32)))),n=decodeUTF8(r.subarray(0,a)).match(/^\\d+ ([^=]+)=(.*)\\n$/);if(null===n)throw new Error("Invalid PAX header data format.");var i=n[1],s=n[2];0===s.length?s=null:null!==s.match(/^\\d+$/)&&(s=parseInt(s));var o={name:i,value:s};t.push(o),r=r.subarray(a)}return new PaxHeader(t)},PaxHeader.prototype={applyHeader:function(a){this._fields.forEach(function(e){var r=e.name,t=e.value;"path"===r?(r="name",void 0!==a.prefix&&delete a.prefix):"linkpath"===r&&(r="linkname"),null===t?delete a[r]:a[r]=t})}},UntarStream.prototype={readString:function(e){for(var r=+e,t=[],a=0;a<e;++a){var n=this._bufferView.getUint8(this.position()+ +a,!0);if(0===n)break;t.push(n)}return this.seek(r),String.fromCharCode.apply(null,t)},readBuffer:function(e){var r,t,a;return"function"==typeof ArrayBuffer.prototype.slice?r=this._bufferView.buffer.slice(this.position(),this.position()+e):(r=new ArrayBuffer(e),t=new Uint8Array(r),a=new Uint8Array(this._bufferView.buffer,this.position(),e),t.set(a)),this.seek(e),r},seek:function(e){this._position+=e},peekUint32:function(){return this._bufferView.getUint32(this.position(),!0)},position:function(e){if(void 0===e)return this._position;this._position=e},size:function(){return this._bufferView.byteLength}},UntarFileStream.prototype={hasNext:function(){return this._stream.position()+4<this._stream.size()&&0!==this._stream.peekUint32()},next:function(){return this._readNextFile()},_readNextFile:function(){var e=this._stream,r=new TarFile,t=!1,a=null,n=e.position()+512;switch(r.name=e.readString(100),r.mode=e.readString(8),r.uid=parseInt(e.readString(8)),r.gid=parseInt(e.readString(8)),r.size=parseInt(e.readString(12),8),r.mtime=parseInt(e.readString(12),8),r.checksum=parseInt(e.readString(8)),r.type=e.readString(1),r.linkname=e.readString(100),r.ustarFormat=e.readString(6),-1<r.ustarFormat.indexOf("ustar")&&(r.version=e.readString(2),r.uname=e.readString(32),r.gname=e.readString(32),r.devmajor=parseInt(e.readString(8)),r.devminor=parseInt(e.readString(8)),r.namePrefix=e.readString(155),0<r.namePrefix.length&&(r.name=r.namePrefix+"/"+r.name)),e.position(n),r.type){case"0":case"":r.buffer=e.readBuffer(r.size);break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":break;case"g":t=!0,this._globalPaxHeader=PaxHeader.parse(e.readBuffer(r.size));break;case"x":t=!0,a=PaxHeader.parse(e.readBuffer(r.size))}void 0===r.buffer&&(r.buffer=new ArrayBuffer(0));var i=n+r.size;return r.size%512!=0&&(i+=512-r.size%512),e.position(i),t&&(r=this._readNextFile()),null!==this._globalPaxHeader&&this._globalPaxHeader.applyHeader(r),null!==a&&a.applyHeader(r),r}};'])),r=window||this,n=r.URL||r.webkitURL,i={blob:{get:function(){return this._blob||(this._blob=new Blob([this.buffer]))}},getBlobUrl:{value:function(){return this._blobUrl||(this._blobUrl=n.createObjectURL(this.blob))}},readAsString:{value:function(){for(var e=this.buffer,t=e.byteLength,r=new DataView(e),n="",i=0;i<t;++i)n+=String.fromCharCode(r.getUint8(+i,!0));return this._string=n}},readAsJSON:{value:function(){return JSON.parse(this.readAsString())}}};return function(n){if(!(n instanceof ArrayBuffer))throw TypeError("arrayBuffer is not an instance of ArrayBuffer.");if(!r.Worker)throw Error("Worker implementation is not available in this environment.");return new e(function(e,r,o){var s=new Worker(t),a=[];s.onerror=function(e){r(e)},s.onmessage=function(t){switch((t=t.data).type){case"log":console[t.data.level]("Worker: "+t.data.msg);break;case"extract":var n,l=(Object.defineProperties(n=t.data,i),n);a.push(l),o(l);break;case"complete":s.terminate(),e(a);break;case"error":s.terminate(),r(Error(t.data.message));break;default:s.terminate(),r(Error("Unknown message from worker: "+t.type))}},s.postMessage({type:"extract",buffer:n},[n])})}});var tZ={},tG={};tG=function(e){return atob(e)};var tV=q("iIDdR");function tX(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}"use strict";"use strict";tZ=function(e){if("string"!=typeof e)throw Error("Argument should be a string");return/^data\:/i.test(e)?function(e){var t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw TypeError("malformed data-URI");for(var r=e.substring(5,t).split(";"),n=!1,i="US-ASCII",o=0;o<r.length;o++)"base64"==r[o]?n=!0:0==r[o].indexOf("charset=")&&(i=r[o].substring(8));var s=unescape(e.substring(t+1));n&&(s=tG(s));var a=tX(s);return a.type=r[0]||"text/plain",a.charset=i,a}(e):(tV(e)&&(e=tG(e)),tX(e))};var tK={},tY={};"use strict";Object.defineProperty(tY,"__esModule",{value:!0});var tJ={};"use strict";Object.defineProperty(tJ,"__esModule",{value:!0}),tJ.init=tJ.ready=tJ.buildTokenRequest=tJ.completeAuth=tJ.onMessage=tJ.isInPopUp=tJ.isInFrame=tJ.authorize=tJ.getSecurityExtensions=tJ.fetchWellKnownJson=tJ.KEY=void 0;var tQ={};"use strict";Object.defineProperty(tQ,"__esModule",{value:!0}),tQ.getTargetWindow=tQ.getPatientParam=tQ.byCodes=tQ.byCode=tQ.getAccessTokenExpiration=tQ.jwtDecode=tQ.randomString=tQ.absolute=tQ.makeArray=tQ.setPath=tQ.getPath=tQ.humanizeError=tQ.fetchConformanceStatement=tQ.getAndCache=tQ.request=tQ.responseToJSON=tQ.checkResponse=tQ.units=tQ.debug=void 0;var tW={};"use strict";Object.defineProperty(tW,"__esModule",{value:!0}),tW.default=class extends Error{constructor(e="Unknown error",t=0,r="Error",n=null){super(e),this.message=e,this.name="HttpError",this.statusCode=t,this.status=t,this.statusText=r,this.body=n}toJSON(){return{name:this.name,statusCode:this.statusCode,status:this.status,statusText:this.statusText,message:this.message,body:this.body}}};var t0={};Object.defineProperty(t0,"__esModule",{value:!0}),t0.SMART_KEY=t0.patientParams=t0.fhirVersions=t0.patientCompartment=void 0,t0.patientCompartment=["Account","AdverseEvent","AllergyIntolerance","Appointment","AppointmentResponse","AuditEvent","Basic","BodySite","BodyStructure","CarePlan","CareTeam","ChargeItem","Claim","ClaimResponse","ClinicalImpression","Communication","CommunicationRequest","Composition","Condition","Consent","Coverage","CoverageEligibilityRequest","CoverageEligibilityResponse","DetectedIssue","DeviceRequest","DeviceUseRequest","DeviceUseStatement","DiagnosticOrder","DiagnosticReport","DocumentManifest","DocumentReference","EligibilityRequest","Encounter","EnrollmentRequest","EpisodeOfCare","ExplanationOfBenefit","FamilyMemberHistory","Flag","Goal","Group","ImagingManifest","ImagingObjectSelection","ImagingStudy","Immunization","ImmunizationEvaluation","ImmunizationRecommendation","Invoice","List","MeasureReport","Media","MedicationAdministration","MedicationDispense","MedicationOrder","MedicationRequest","MedicationStatement","MolecularSequence","NutritionOrder","Observation","Order","Patient","Person","Procedure","ProcedureRequest","Provenance","QuestionnaireResponse","ReferralRequest","RelatedPerson","RequestGroup","ResearchSubject","RiskAssessment","Schedule","ServiceRequest","Specimen","SupplyDelivery","SupplyRequest","VisionPrescription"],t0.fhirVersions={"0.4.0":2,"0.5.0":2,"1.0.0":2,"1.0.1":2,"1.0.2":2,"1.1.0":3,"1.4.0":3,"1.6.0":3,"1.8.0":3,"3.0.0":3,"3.0.1":3,"3.3.0":4,"3.5.0":4,"4.0.0":4,"4.0.1":4},t0.patientParams=["patient","subject","requester","member","actor","beneficiary"],t0.SMART_KEY="SMART_KEY";var t1={},t2=q("kjyEk");t1.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t1.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(n=r))}),e.splice(n,0,t)},t1.save=function(e){try{e?t1.storage.setItem("debug",e):t1.storage.removeItem("debug")}catch(e){}},t1.load=function(){let e;try{e=t1.storage.getItem("debug")}catch(e){}return!e&&void 0!==t2&&"env"in t2&&(e=void 0),e},t1.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t1.storage=function(){try{return localStorage}catch(e){}}(),t1.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t1.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t1.log=console.debug||console.log||(()=>{}),t1=q("7kBR8")(t1);const{formatters:t3}=t1;t3.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};const{fetch:t5}="undefined"!=typeof FHIRCLIENT_PURE?window:q("R5nvG"),t6=t1("FHIR");tQ.debug=t6;const t8={};function t4({value:e,code:t}){if("number"!=typeof e)throw Error("Found a non-numerical unit: "+e+" "+t)}async function t9(e){if(!e.ok)throw await rr(e);return e}function t7(e){return e.text().then(e=>e.length?JSON.parse(e):"")}function re(e,t={}){return t5(e,Object.assign(Object.assign({mode:"cors"},t),{headers:Object.assign({accept:"application/json"},t.headers)})).then(t9).then(e=>{let t=e.headers.get("Content-Type")+"";return t.match(/\bjson\b/i)?t7(e).then(t=>({res:e,body:t})):t.match(/^text\//i)?e.text().then(t=>({res:e,body:t})):{res:e}}).then(({res:e,body:r})=>{if(!r&&201==e.status){let r=e.headers.get("location")+"";if(r)return re(r,Object.assign(Object.assign({},t),{method:"GET",body:null}))}return void 0===r?e:r})}function rt(e,t,r=!1){return r||!t8[e]?(t8[e]=re(e,t),t8[e]):Promise.resolve(t8[e])}async function rr(e){let t=`${e.status} ${e.statusText}
URL: ${e.url}`,r=null;try{let n=e.headers.get("Content-Type")||"text/plain";n.match(/\bjson\b/i)?(r=await e.json()).error?(t+="\n"+r.error,r.error_description&&(t+=": "+r.error_description)):t+="\n\n"+JSON.stringify(r,null,4):n.match(/^text\//i)&&(r=await e.text())&&(t+="\n\n"+r)}catch(e){}throw new tW.default(t,e.status,e.statusText,r)}function rn(e,t=""){if(!(t=t.trim()))return e;let r=t.split("."),n=e;for(;n&&r.length;){let e=r.shift();if(!e&&Array.isArray(n))return n.map(e=>rn(e,r.join(".")));n=n[e]}return n}function ri(e){return Array.isArray(e)?e:[e]}function ro(e,t){let r=e.split(".")[1];return r?JSON.parse(t.atob(r)):null}function rs(e,t){let r={};function n(e,t){e&&Array.isArray(e.coding)&&e.coding.forEach(({code:e})=>{e&&(r[e]=r[e]||[],r[e].push(t))})}return ri(e).forEach(e=>{"Observation"===e.resourceType&&e[t]&&(Array.isArray(e[t])?e[t].forEach(t=>n(t,e)):n(e[t],e))}),r}async function ra(e,t=800,r=720){if("function"==typeof e&&(e=await e()),e&&"object"==typeof e)return e;if("string"!=typeof e)return t6("Invalid target type '%s'. Failing back to '_self'.",typeof e),self;if("_self"==e)return self;if("_parent"==e)return parent;if("_top"==e)return top;if("_blank"==e){let e,t=null;try{if(!(t=window.open("","SMARTAuthPopup")))throw Error("Perhaps window.open was blocked")}catch(t){e=t}return t||(t6("Cannot open window. Failing back to '_self'. %s",e),self)}if("popup"==e){let e,n=null;try{if(!(n=window.open("","SMARTAuthPopup",["height="+r,"width="+t,"menubar=0","resizable=1","status=0","top="+(screen.height-r)/2,"left="+(screen.width-t)/2].join(","))))throw Error("Perhaps the popup window was blocked")}catch(t){e=t}return n||(t6("Cannot open window. Failing back to '_self'. %s",e),self)}let n=frames[e];return n||(t6("Unknown target '%s'. Failing back to '_self'.",e),self)}"use strict";"use strict";tQ.units={cm({code:e,value:t}){if(t4({code:e,value:t}),"cm"==e)return t;if("m"==e)return 100*t;if("in"==e||"[in_us]"==e||"[in_i]"==e)return 2.54*t;if("ft"==e||"[ft_us]"==e)return 30.48*t;throw Error("Unrecognized length unit: "+e)},kg({code:e,value:t}){if(t4({code:e,value:t}),"kg"==e)return t;if("g"==e)return t/1e3;if(e.match(/lb/))return t/2.20462;if(e.match(/oz/))return t/35.274;throw Error("Unrecognized weight unit: "+e)},any:e=>(t4(e),e.value)},tQ.checkResponse=t9,tQ.responseToJSON=t7,tQ.request=re,tQ.getAndCache=rt,tQ.fetchConformanceStatement=function(e="/",t){let r=String(e).replace(/\/*$/,"/")+"metadata";return rt(r,t).catch(e=>{throw Error(`Failed to fetch the conformance statement from "${r}". ${e}`)})},tQ.humanizeError=rr,tQ.getPath=rn,tQ.setPath=function(e,t,r,n=!1){return t.trim().split(".").reduce((e,t,i,o)=>{if(!e||i!==o.length-1)return e&&void 0===e[t]&&n&&(e[t]=o[i+1].match(/^[0-9]+$/)?[]:{}),e?e[t]:void 0;e[t]=r},e),e},tQ.makeArray=ri,tQ.absolute=function(e,t){return e.match(/^http/)||e.match(/^urn/)?e:String(t||"").replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")},tQ.randomString=function(e=8,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){let r=[],n=t.length;for(;e--;)r.push(t.charAt(Math.floor(Math.random()*n)));return r.join("")},tQ.jwtDecode=ro,tQ.getAccessTokenExpiration=function(e,t){let r=Math.floor(Date.now()/1e3);if(e.expires_in)return r+e.expires_in;if(e.access_token){let r=ro(e.access_token,t);if(r&&r.exp)return r.exp}return r+300},tQ.byCode=rs,tQ.byCodes=function(e,t){let r=rs(e,t);return(...e)=>e.filter(e=>e+"" in r).reduce((e,t)=>e.concat(r[t+""]),[])},tQ.getPatientParam=function(e,t){let r=rn(e,"rest.0.resource")||[],n=r.find(e=>e.type===t);if(!n)throw Error(`Resource "${t}" is not supported by this FHIR server`);if(!Array.isArray(n.searchParam))throw Error(`No search parameters supported for "${t}" on this FHIR server`);if("Patient"==t&&n.searchParam.find(e=>"_id"==e.name))return"_id";let i=t0.patientParams.find(e=>n.searchParam.find(t=>t.name==e));if(!i)throw Error("I don't know what param to use for "+t);return i},tQ.getTargetWindow=ra;var rl={},ru={},rh={},rc=function(e){return e&&e.Math==Math&&e};"use strict";rh=rc("object"==typeof globalThis&&globalThis)||rc("object"==typeof window&&window)||rc("object"==typeof self&&self)||rc("object"==typeof z&&z)||function(){return this}()||Function("return this")();var rf={},rd={};rf=!(rd=function(e){try{return!!e()}catch(e){return!0}})(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]});var rp={}.propertyIsEnumerable,rm=Object.getOwnPropertyDescriptor;O=rm&&!rp.call({1:2},1)?function(e){var t=rm(this,e);return!!t&&t.enumerable}:rp;var rg={};rg=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}};var rb={},r_={},ry={},rv={}.toString;ry=function(e){return rv.call(e).slice(8,-1)};var rw="".split;r_=rd(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==ry(e)?rw.call(e,""):Object(e)}:Object;var rE={};rE=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e},rb=function(e){return r_(rE(e))};var rk={},rR={};rR=function(e){return"object"==typeof e?null!==e:"function"==typeof e},rk=function(e,t){var r,n;if(!rR(e))return e;if(t&&"function"==typeof(r=e.toString)&&!rR(n=r.call(e))||"function"==typeof(r=e.valueOf)&&!rR(n=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!rR(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")};var rI={},rS={}.hasOwnProperty;rI=function(e,t){return rS.call(e,t)};var rC={},rA={},rx=rh.document,rO=rR(rx)&&rR(rx.createElement);rA=function(e){return rO?rx.createElement(e):{}},rC=!rf&&!rd(function(){return 7!=Object.defineProperty(rA("div"),"a",{get:function(){return 7}}).a});var rT=Object.getOwnPropertyDescriptor;x=rf?rT:function(e,t){if(e=rb(e),t=rk(t,!0),rC)try{return rT(e,t)}catch(e){}if(rI(e,t))return rg(!O.call(e,t),e[t])};var rP={},rF={};rF=function(e){if(!rR(e))throw TypeError(String(e)+" is not an object");return e};var rL=Object.defineProperty;T=rf?rL:function(e,t,r){if(rF(e),t=rk(t,!0),rF(r),rC)try{return rL(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e},rP=rf?function(e,t,r){return T(e,t,rg(1,r))}:function(e,t,r){return e[t]=r,e};var rU={},rN={};rN=function(e,t){try{rP(rh,e,t)}catch(r){rh[e]=t}return t};var rj={},rz={},rB="__core-js_shared__";rz=rh[rB]||rN(rB,{});var rD=Function.toString;"function"!=typeof rz.inspectSource&&(rz.inspectSource=function(e){return rD.call(e)}),rj=rz.inspectSource;var rM={},r$={},rq=rh.WeakMap;r$="function"==typeof rq&&/native code/.test(rj(rq));var rH={},rZ={},rG={};rG=!1,(rZ=function(e,t){return rz[e]||(rz[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:rG?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"});var rV={},rX=0,rK=Math.random();rV=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++rX+rK).toString(36)};var rY=rZ("keys");rH=function(e){return rY[e]||(rY[e]=rV(e))};var rJ={};rJ={};var rQ=rh.WeakMap;if(r$){var rW=rz.state||(rz.state=new rQ),r0=rW.get,r1=rW.has,r2=rW.set;P=function(e,t){return t.facade=e,r2.call(rW,e,t),t},F=function(e){return r0.call(rW,e)||{}},L=function(e){return r1.call(rW,e)}}else{var r3=rH("state");rJ[r3]=!0,P=function(e,t){return t.facade=e,rP(e,r3,t),t},F=function(e){return rI(e,r3)?e[r3]:{}},L=function(e){return rI(e,r3)}}var r5=(rM={set:P,get:F,has:L,enforce:function(e){return L(e)?F(e):P(e,{})},getterFor:function(e){return function(t){var r;if(!rR(t)||(r=F(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}).get,r6=rM.enforce,r8=String(String).split("String");(rU=function(e,t,r,n){var i,o=!!n&&!!n.unsafe,s=!!n&&!!n.enumerable,a=!!n&&!!n.noTargetGet;if("function"!=typeof r||("string"!=typeof t||rI(r,"name")||rP(r,"name",t),(i=r6(r)).source||(i.source=r8.join("string"==typeof t?t:""))),e===rh){s?e[t]=r:rN(t,r);return}o?!a&&e[t]&&(s=!0):delete e[t],s?e[t]=r:rP(e,t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&r5(this).source||rj(this)});var r4={},r9={},r7={},ne={};ne=rh;var nt=function(e){return"function"==typeof e?e:void 0};r7=function(e,t){return arguments.length<2?nt(ne[e])||nt(rh[e]):ne[e]&&ne[e][t]||rh[e]&&rh[e][t]};var nr={},nn={},ni={},no=Math.ceil,ns=Math.floor;ni=function(e){return isNaN(e=+e)?0:(e>0?ns:no)(e)};var na=Math.min;nn=function(e){return e>0?na(ni(e),9007199254740991):0};var nl={},nu=Math.max,nh=Math.min;nl=function(e,t){var r=ni(e);return r<0?nu(r+t,0):nh(r,t)};var nc=function(e){return function(t,r,n){var i,o=rb(t),s=nn(o.length),a=nl(n,s);if(e&&r!=r){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===r)return e||a||0;return!e&&-1}},nf={includes:nc(!0),indexOf:nc(!1)}.indexOf;nr=function(e,t){var r,n=rb(e),i=0,o=[];for(r in n)!rI(rJ,r)&&rI(n,r)&&o.push(r);for(;t.length>i;)rI(n,r=t[i++])&&(~nf(o,r)||o.push(r));return o};var nd={},np=(nd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]).concat("length","prototype");U=Object.getOwnPropertyNames||function(e){return nr(e,np)},N=Object.getOwnPropertySymbols,r9=r7("Reflect","ownKeys")||function(e){var t=U(rF(e));return N?t.concat(N(e)):t},r4=function(e,t){for(var r=r9(t),n=0;n<r.length;n++){var i=r[n];rI(e,i)||T(e,i,x(t,i))}};var nm={},ng=/#|\.prototype\./,nb=function(e,t){var r=ny[n_(e)];return r==nw||r!=nv&&("function"==typeof t?rd(t):!!t)},n_=nb.normalize=function(e){return String(e).replace(ng,".").toLowerCase()},ny=nb.data={},nv=nb.NATIVE="N",nw=nb.POLYFILL="P";"use strict";nm=nb,ru=function(e,t){var r,n,i,o,s,a=e.target,l=e.global,u=e.stat;if(r=l?rh:u?rh[a]||rN(a,{}):(rh[a]||{}).prototype)for(n in t){if(o=t[n],i=e.noTargetGet?(s=x(r,n))&&s.value:r[n],!nm(l?n:a+(u?".":"#")+n,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;r4(o,i)}(e.sham||i&&i.sham)&&rP(o,"sham",!0),rU(r,n,o,e)}};var nE={},nk={};nk=Array.isArray||function(e){return"Array"==ry(e)};var nR={},nI={};nI=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},nR=function(e,t,r){if(nI(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}};var nS=function(e,t,r,n,i,o,s,a){for(var l,u=i,h=0,c=!!s&&nR(s,a,3);h<n;){if(h in r){if(l=c?c(r[h],h,t):r[h],o>0&&nk(l))u=nS(e,t,l,nn(l.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=l}u++}h++}return u};nE=nS;var nC={};nC=function(e){return Object(rE(e))};var nA={},nx={},nO={};nO=!!Object.getOwnPropertySymbols&&!rd(function(){return!String(Symbol())});var nT={};nT=nO&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var nP=rZ("wks"),nF=rh.Symbol,nL=nT?nF:nF&&nF.withoutSetter||rV,nU=(nx=function(e){return rI(nP,e)||(nO&&rI(nF,e)?nP[e]=nF[e]:nP[e]=nL("Symbol."+e)),nP[e]})("species");nA=function(e,t){var r;return nk(e)&&("function"==typeof(r=e.constructor)&&(r===Array||nk(r.prototype))?r=void 0:rR(r)&&null===(r=r[nU])&&(r=void 0)),new(void 0===r?Array:r)(0===t?0:t)},ru({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=nC(this),r=nn(t.length),n=nA(t,0);return n.length=nE(n,t,t,r,0,void 0===e?1:ni(e)),n}});var nN={},nj={},nz={};nz=Object.keys||function(e){return nr(e,nd)},nj=rf?Object.defineProperties:function(e,t){rF(e);for(var r,n=nz(t),i=n.length,o=0;i>o;)T(e,r=n[o++],t[r]);return e};var nB={};nB=r7("document","documentElement");var nD="prototype",nM="script",n$=rH("IE_PROTO"),nq=function(){},nH=function(e){return"<"+nM+">"+e+"</"+nM+">"},nZ=function(e){e.write(nH("")),e.close();var t=e.parentWindow.Object;return e=null,t},nG=function(){var e,t=rA("iframe");return t.style.display="none",nB.appendChild(t),t.src=String("java"+nM+":"),(e=t.contentWindow.document).open(),e.write(nH("document.F=Object")),e.close(),e.F},nV=function(){try{j=document.domain&&new ActiveXObject("htmlfile")}catch(e){}nV=j?nZ(j):nG();for(var e=nd.length;e--;)delete nV[nD][nd[e]];return nV()};rJ[n$]=!0,nN=Object.create||function(e,t){var r;return null!==e?(nq[nD]=rF(e),r=new nq,nq[nD]=null,r[n$]=e):r=nV(),void 0===t?r:nj(r,t)};var nX=nx("unscopables"),nK=Array.prototype;"use strict";void 0==nK[nX]&&T(nK,nX,{configurable:!0,value:nN(null)}),nK[nX].flat=!0,Object.defineProperty(rl,"__esModule",{value:!0});var nY={};Object.defineProperty(nY,"__esModule",{value:!0}),nY.default={expired:"Session expired! Please re-launch the app",noScopeForId:"Trying to get the ID of the selected %s. Please add 'launch' or 'launch/%s' to the requested scopes and try again.",noIfNoAuth:"You are trying to get %s but the app is not authorized yet.",noFreeContext:"Please don't use open fhir servers if you need to access launch context items like the %S."};const{Response:nJ}="undefined"!=typeof FHIRCLIENT_PURE?window:q("R5nvG"),nQ=tQ.debug.extend("client");async function nW(e,t){let r=tQ.absolute("/",t.state.serverUrl);async function n(e){let r=e.pathname.split("/").pop();if(!r)throw Error(`Invalid url "${e}"`);if(-1==t0.patientCompartment.indexOf(r))throw Error(`Cannot filter "${r}" resources by patient`);let n=await tQ.fetchConformanceStatement(t.state.serverUrl),i=tQ.getPatientParam(n,r);return e.searchParams.set(i,t.patient.id),e.href}return"string"==typeof e||e instanceof URL?{url:await n(new URL(e+"",r))}:(e.url=await n(new URL(e.url+"",r)),e)}function n0(e,t,r,n,i){let o=tQ.makeArray(t.resolveReferences).filter(Boolean).map(e=>String(e).trim()).filter(Boolean);if(!(o=o.filter((e,t)=>{let r=o.indexOf(e,t+1);return!(r>-1)||(nQ('Duplicated reference path "%s"',e),!1)})).length)return Promise.resolve();let s={};o.forEach(e=>{let t=e.split(".").length;s[t]||(s[t]=[]),s[t].push(e)});let a=Promise.resolve();return Object.keys(s).sort().forEach(o=>{let l=s[o];a=a.then(()=>Promise.all(l.map(o=>(function(e,t,r,n,i,o){let s=tQ.getPath(e,t);if(s){let a=Array.isArray(s);return Promise.all(tQ.makeArray(s).filter(Boolean).map((s,l)=>{let u=s.reference;if(u)return(n[u]||(n[u]=i.request({url:u,signal:o}).then(e=>(n[u]=e,e),e=>{throw delete n[u],e})),Promise.resolve(n[u])).then(n=>{r&&(a?t.indexOf("..")>-1?tQ.setPath(e,`${t.replace("..",`.${l}.`)}`,n):tQ.setPath(e,`${t}.${l}`,n):tQ.setPath(e,t,n))}).catch(e=>{if(404!==e.status)throw e})}))}})(e,o,!!t.graph,r,n,i))))}),a}rl.default=class{constructor(e,t){this.units=tQ.units;let r="string"==typeof t?{serverUrl:t}:t;if(!r.serverUrl||!r.serverUrl.match(/https?:\/\/.+/))throw Error('A "serverUrl" option is required and must begin with "http(s)"');this.state=r,this.environment=e,this._refreshTask=null;let n=this;this.patient={get id(){return n.getPatientId()},read:(e={})=>{let t=this.patient.id;return t?this.request(Object.assign(Object.assign({},e),{url:`Patient/${t}`})):Promise.reject(Error("Patient is not available"))},request:(e,t={})=>this.patient.id?(async()=>{let r=await nW(e,this);return this.request(r,t)})():Promise.reject(Error("Patient is not available"))},this.encounter={get id(){return n.getEncounterId()},read:(e={})=>{let t=this.encounter.id;return t?this.request(Object.assign(Object.assign({},e),{url:`Encounter/${t}`})):Promise.reject(Error("Encounter is not available"))}},this.user={get fhirUser(){return n.getFhirUser()},get id(){return n.getUserId()},get resourceType(){return n.getUserType()},read:(e={})=>{let t=this.user.fhirUser;return t?this.request(Object.assign(Object.assign({},e),{url:t})):Promise.reject(Error("User is not available"))}},this.connect(e.fhir)}connect(e){if("function"==typeof e){let t={baseUrl:this.state.serverUrl.replace(/\/$/,"")},r=this.getState("tokenResponse.access_token");if(r)t.auth={token:r};else{let{username:e,password:r}=this.state;e&&r&&(t.auth={user:e,pass:r})}this.api=e(t);let n=this.getState("tokenResponse.patient");n&&(this.patient.api=e(Object.assign(Object.assign({},t),{patient:n})))}return this}getPatientId(){let e=this.state.tokenResponse;return e?e.patient?e.patient:((this.state.scope||"").match(/\blaunch(\/patient)?\b/)?nQ("The ID of the selected patient is not available. Please check if your server supports that."):nQ(nY.default.noScopeForId,"patient","patient"),null):(this.state.authorizeUri?nQ(nY.default.noIfNoAuth,"the ID of the selected patient"):nQ(nY.default.noFreeContext,"selected patient"),null)}getEncounterId(){let e=this.state.tokenResponse;return e?e.encounter?e.encounter:((this.state.scope||"").match(/\blaunch(\/encounter)?\b/)?nQ("The ID of the selected encounter is not available. Please check if your server supports that, and that the selected patient has any recorded encounters."):nQ(nY.default.noScopeForId,"encounter","encounter"),null):(this.state.authorizeUri?nQ(nY.default.noIfNoAuth,"the ID of the selected encounter"):nQ(nY.default.noFreeContext,"selected encounter"),null)}getIdToken(){let e=this.state.tokenResponse;if(e){let t=e.id_token,r=this.state.scope||"";if(!t){let e=r.match(/\bopenid\b/),t=r.match(/\bprofile\b/),n=r.match(/\bfhirUser\b/);return e&&(n||t)?nQ("The id_token is not available. Please check if your server supports that."):nQ("You are trying to get the id_token but you are not using the right scopes. Please add 'openid' and 'fhirUser' or 'profile' to the scopes you are requesting."),null}return tQ.jwtDecode(t,this.environment)}return this.state.authorizeUri?nQ(nY.default.noIfNoAuth,"the id_token"):nQ(nY.default.noFreeContext,"id_token"),null}getFhirUser(){let e=this.getIdToken();return e?e.profile:null}getUserId(){let e=this.getFhirUser();return e?e.split("/")[1]:null}getUserType(){let e=this.getFhirUser();return e?e.split("/")[0]:null}getAuthorizationHeader(){let e=this.getState("tokenResponse.access_token");if(e)return"Bearer "+e;let{username:t,password:r}=this.state;return t&&r?"Basic "+this.environment.btoa(t+":"+r):null}async _clearState(){let e=this.environment.getStorage(),t=await e.get(t0.SMART_KEY);t&&await e.unset(t),await e.unset(t0.SMART_KEY),this.state.tokenResponse={}}create(e,t={}){return this.request(Object.assign(Object.assign({},t),{url:`${e.resourceType}`,method:"POST",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},t.headers)}))}update(e,t={}){return this.request(Object.assign(Object.assign({},t),{url:`${e.resourceType}/${e.id}`,method:"PUT",body:JSON.stringify(e),headers:Object.assign({"Content-Type":"application/json"},t.headers)}))}delete(e,t={}){return this.request(Object.assign(Object.assign({},t),{url:e,method:"DELETE"}))}async request(e,t={},r={}){var n;let i;let o=tQ.debug.extend("client:request");if(!e)throw Error("request requires an url or request options as argument");"string"==typeof e||e instanceof URL?(i=String(e),e={}):i=String(e.url),i=tQ.absolute(i,this.state.serverUrl);let s={graph:!1!==t.graph,flat:!!t.flat,pageLimit:null!==(n=t.pageLimit)&&void 0!==n?n:1,resolveReferences:t.resolveReferences||[],useRefreshToken:!1!==t.useRefreshToken,onPage:"function"==typeof t.onPage?t.onPage:void 0},a=e.signal||void 0,l=s.useRefreshToken?this.refreshIfNeeded({signal:a}).then(()=>e):Promise.resolve(e);return l.then(e=>{let t=this.getAuthorizationHeader();return t&&(e.headers=Object.assign(Object.assign({},e.headers),{Authorization:t})),e}).then(e=>(o("%s, options: %O, fhirOptions: %O",i,e,s),tQ.request(i,e))).catch(async e=>{if(401==e.status){if(!this.getState("tokenResponse.access_token"))throw Error("This app cannot be accessed directly. Please launch it as SMART app!");if(!s.useRefreshToken)throw o("Your session has expired and the useRefreshToken option is set to false. Please re-launch the app."),await this._clearState(),Error(nY.default.expired);throw o("Auto-refresh failed! Please re-launch the app."),await this._clearState(),Error(nY.default.expired)}throw e}).catch(e=>{throw 403==e.status&&o("Permission denied! Please make sure that you have requested the proper scopes."),e}).then(e=>!e||"string"==typeof e||e instanceof nJ?e:(async e=>("Bundle"==e.resourceType?await Promise.all((e.entry||[]).map(e=>n0(e.resource,s,r,this,a))):await n0(e,s,r,this,a),e))(e).then(async e=>{if(e&&"Bundle"==e.resourceType){let t=e.link||[];if(s.flat&&(e=(e.entry||[]).map(e=>e.resource)),s.onPage&&await s.onPage(e,Object.assign({},r)),--s.pageLimit){let n=t.find(e=>"next"==e.relation);if(e=tQ.makeArray(e),n&&n.url){let t=await this.request({url:n.url,signal:a},s,r);return s.onPage?null:s.resolveReferences.length?(Object.assign(r,t.references),e.concat(tQ.makeArray(t.data||t))):e.concat(tQ.makeArray(t))}}}return e}).then(e=>{if(s.graph)r={};else if(!s.onPage&&s.resolveReferences.length)return{data:e,references:r};return e}))}refreshIfNeeded(e={}){let t=this.getState("tokenResponse.access_token"),r=this.getState("tokenResponse.refresh_token"),n=this.state.expiresAt||0;return t&&r&&n-10<Date.now()/1e3?this.refresh(e):Promise.resolve(this.state)}refresh(e={}){var t,r;let n=tQ.debug.extend("client:refresh");n("Attempting to refresh with refresh_token...");let i=null===(r=null===(t=this.state)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.refresh_token;if(!i)throw Error("Unable to refresh. No refresh_token found.");let o=this.state.tokenUri;if(!o)throw Error("Unable to refresh. No tokenUri found.");let s=this.getState("tokenResponse.scope")||"",a=s.search(/\boffline_access\b/)>-1,l=s.search(/\bonline_access\b/)>-1;if(!a&&!l)throw Error("Unable to refresh. No offline_access or online_access scope found.");if(!this._refreshTask){let t=Object.assign(Object.assign({credentials:this.environment.options.refreshTokenWithCredentials||"same-origin"},e),{method:"POST",mode:"cors",headers:Object.assign(Object.assign({},e.headers||{}),{"content-type":"application/x-www-form-urlencoded"}),body:`grant_type=refresh_token&refresh_token=${encodeURIComponent(i)}`});if(!("authorization"in t.headers)){let{clientSecret:e,clientId:r}=this.state;e&&(t.headers.authorization="Basic "+this.environment.btoa(r+":"+e))}this._refreshTask=tQ.request(o,t).then(e=>{if(!e.access_token)throw Error("No access token received");return n("Received new access token response %O",e),Object.assign(this.state.tokenResponse,e),this.state.expiresAt=tQ.getAccessTokenExpiration(e,this.environment),this.state}).catch(e=>{var t,r;throw(null===(r=null===(t=this.state)||void 0===t?void 0:t.tokenResponse)||void 0===r?void 0:r.refresh_token)&&(n("Deleting the expired or invalid refresh token."),delete this.state.tokenResponse.refresh_token),e}).finally(()=>{this._refreshTask=null;let e=this.state.key;e?this.environment.getStorage().set(e,this.state):n("No 'key' found in Clint.state. Cannot persist the instance.")})}return this._refreshTask}byCode(e,t){return tQ.byCode(e,t)}byCodes(e,t){return tQ.byCodes(e,t)}getPath(e,t=""){return tQ.getPath(e,t)}getState(e=""){return tQ.getPath(Object.assign({},this.state),e)}getFhirVersion(){return tQ.fetchConformanceStatement(this.state.serverUrl).then(e=>e.fhirVersion)}getFhirRelease(){return this.getFhirVersion().then(e=>{var t;return null!==(t=t0.fhirVersions[e])&&void 0!==t?t:0})}},Object.defineProperty(tJ,"KEY",{enumerable:!0,get:function(){return t0.SMART_KEY}});const n1=tQ.debug.extend("oauth2");function n2(){return"object"==typeof window}function n3(e="/",t){let r=String(e).replace(/\/*$/,"/")+".well-known/smart-configuration";return tQ.getAndCache(r,t).catch(e=>{throw Error(`Failed to fetch the well-known json "${r}". ${e.message}`)})}function n5(e,t="/"){let r=e.getAbortController(),n=new r,i=new r;return function(e){let t=e.length,r=[],n=!1;return new Promise((i,o)=>{function s(e){r.push(e)===t&&o(Error(r.map(e=>e.message).join("; ")))}e.forEach(t=>{t.promise.then(r=>{t.complete=!0,n||(n=!0,e.forEach(e=>{e.complete||e.controller.abort()}),i(r))},s)})})}([{controller:n,promise:function(e="/",t){return n3(e,t).then(e=>{if(!e.authorization_endpoint||!e.token_endpoint)throw Error("Invalid wellKnownJson");return{registrationUri:e.registration_endpoint||"",authorizeUri:e.authorization_endpoint,tokenUri:e.token_endpoint}})}(t,{signal:n.signal})},{controller:i,promise:function(e="/",t){return tQ.fetchConformanceStatement(e,t).then(e=>{let t=(tQ.getPath(e||{},"rest.0.security.extension")||[]).filter(e=>"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris"===e.url).map(e=>e.extension)[0],r={registrationUri:"",authorizeUri:"",tokenUri:""};return t&&t.forEach(e=>{"register"===e.url&&(r.registrationUri=e.valueUri),"authorize"===e.url&&(r.authorizeUri=e.valueUri),"token"===e.url&&(r.tokenUri=e.valueUri)}),r})}(t,{signal:i.signal})}])}async function n6(e,t={},r=!1){let{redirect_uri:n,clientSecret:i,fakeTokenResponse:o,patientId:s,encounterId:a,client_id:l,target:u,width:h,height:c}=t,{iss:f,launch:d,fhirServiceUrl:p,redirectUri:m,scope:g="",clientId:b,completeInTarget:_}=t,y=e.getUrl(),v=e.getStorage();f=y.searchParams.get("iss")||f,p=y.searchParams.get("fhirServiceUrl")||p,d=y.searchParams.get("launch")||d,b||(b=l),m||(m=n),m?m.match(/^https?\:\/\//)||(m=e.relative(m)):m=e.relative(".");let w=String(f||p||"");if(!w)throw Error("No server url found. It must be specified as `iss` or as `fhirServiceUrl` parameter");if(f&&n1("Making %s launch...",d?"EHR":"standalone"),d&&!g.match(/launch/)&&(g+=" launch"),n2()){let e=n8(),t=n4();(e||t)&&!0!==_&&!1!==_&&(_=e,console.warn('Your app is being authorized from within an iframe or popup window. Please be explicit and provide a "completeInTarget" option. Use "true" to complete the authorization in the same window, or "false" to try to complete it in the parent or the opener window. See http://docs.smarthealthit.org/client-js/api.html'))}let E=await v.get(t0.SMART_KEY);await v.unset(E);let k=tQ.randomString(16),R={clientId:b,scope:g,redirectUri:m,serverUrl:w,clientSecret:i,tokenResponse:{},key:k,completeInTarget:_},I=!n2()||tQ.getPath(e,"options.fullSessionStorageSupport");I&&await v.set(t0.SMART_KEY,k),o&&Object.assign(R.tokenResponse,o),s&&Object.assign(R.tokenResponse,{patient:s}),a&&Object.assign(R.tokenResponse,{encounter:a});let S=m+"?state="+encodeURIComponent(k);if(p&&!f)return(n1("Making fake launch..."),await v.set(k,R),r)?S:await e.redirect(S);let C=await n5(e,w);if(Object.assign(R,C),await v.set(k,R),!R.authorizeUri)return r?S:await e.redirect(S);let A=["response_type=code","client_id="+encodeURIComponent(b||""),"scope="+encodeURIComponent(g),"redirect_uri="+encodeURIComponent(m),"aud="+encodeURIComponent(w),"state="+encodeURIComponent(k)];if(d&&A.push("launch="+encodeURIComponent(d)),S=R.authorizeUri+"?"+A.join("&"),r)return S;if(!(u&&n2()))return await e.redirect(S);{let e;if((e=await tQ.getTargetWindow(u,h,c))!==self)try{e.sessionStorage.removeItem(E),e.sessionStorage.setItem(k,JSON.stringify(R))}catch(t){tQ.debug('Failed to modify window.sessionStorage. Perhaps it is from different origin?. Failing back to "_self". %s',t),e=self}if(e!==self)try{e.location.href=S,self.addEventListener("message",n9)}catch(e){tQ.debug('Failed to modify window.location. Perhaps it is from different origin?. Failing back to "_self". %s',e),self.location.href=S}else self.location.href=S;return}}function n8(){try{return self!==top&&parent!==self}catch(e){return!0}}function n4(){try{return self===top&&!!opener&&opener!==self&&!!window.name}catch(e){return!1}}function n9(e){"completeAuth"==e.data.type&&e.origin===new URL(self.location.href).origin&&(window.removeEventListener("message",n9),window.location.href=e.data.url)}async function n7(e){var t,r;let n=e.getUrl(),i=e.getStorage(),o=n.searchParams,s=o.get("state"),a=o.get("code"),l=o.get("error"),u=o.get("error_description");if(s||(s=await i.get(t0.SMART_KEY)),l||u)throw Error([l,u].filter(Boolean).join(": "));if(n1("key: %s, code: %s",s,a),!s)throw Error("No 'state' parameter found. Please (re)launch the app.");let h=await i.get(s),c=!n2()||tQ.getPath(e,"options.fullSessionStorageSupport");if(n2()&&h&&!h.completeInTarget){let e=n8(),t=n4();if((e||t)&&!n.searchParams.get("complete")){n.searchParams.set("complete","1");let{href:r,origin:i}=n;return e&&parent.postMessage({type:"completeAuth",url:r},i),t&&(opener.postMessage({type:"completeAuth",url:r},i),window.close()),new Promise(()=>{})}}n.searchParams.delete("complete");let f=o.has("state");if(n2()&&tQ.getPath(e,"options.replaceBrowserHistory")&&(a||f)&&(a&&(o.delete("code"),n1("Removed code parameter from the url.")),f&&c&&(o.delete("state"),n1("Removed state parameter from the url.")),window.history.replaceState&&window.history.replaceState({},"",n.href)),!h)throw Error("No state found! Please (re)launch the app.");let d=!a||(null===(t=h.tokenResponse)||void 0===t?void 0:t.access_token);if(!d&&h.tokenUri){if(!a)throw Error("'code' url parameter is required");n1("Preparing to exchange the code for access token...");let t=ie(e,a,h);n1("Token request options: %O",t);let r=await tQ.request(h.tokenUri,t);if(n1("Token response: %O",r),!r.access_token)throw Error("Failed to obtain access token.");h.expiresAt=tQ.getAccessTokenExpiration(r,e),h=Object.assign(Object.assign({},h),{tokenResponse:r}),await i.set(s,h),n1("Authorization successful!")}else n1((null===(r=h.tokenResponse)||void 0===r?void 0:r.access_token)?"Already authorized":"No authorization needed");c&&await i.set(t0.SMART_KEY,s);let p=new rl.default(e,h);return n1("Created client instance: %O",p),p}function ie(e,t,r){let{redirectUri:n,clientSecret:i,tokenUri:o,clientId:s}=r;if(!n)throw Error("Missing state.redirectUri");if(!o)throw Error("Missing state.tokenUri");if(!s)throw Error("Missing state.clientId");let a={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:`code=${t}&grant_type=authorization_code&redirect_uri=${encodeURIComponent(n)}`};return i?(a.headers.Authorization="Basic "+e.btoa(s+":"+i),n1("Using state.clientSecret to construct the authorization header: %s",a.headers.Authorization)):(n1("No clientSecret found in state. Adding the clientId to the POST body"),a.body+=`&client_id=${encodeURIComponent(s)}`),a}async function it(e,t,r){let n=n7(e);return t&&(n=n.then(t)),r&&(n=n.catch(r)),n}async function ir(e,t){let r=e.getUrl(),n=r.searchParams.get("code"),i=r.searchParams.get("state");if(n&&i)return n7(e);let o=e.getStorage(),s=i||await o.get(t0.SMART_KEY),a=await o.get(s);return a?new rl.default(e,a):n6(e,t).then(()=>new Promise(()=>{}))}"use strict";tJ.fetchWellKnownJson=n3,tJ.getSecurityExtensions=n5,tJ.authorize=n6,tJ.isInFrame=n8,tJ.isInPopUp=n4,tJ.onMessage=n9,tJ.completeAuth=n7,tJ.buildTokenRequest=ie,tJ.ready=it,tJ.init=ir;var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.default=class{async get(e){let t=sessionStorage[e];return t?JSON.parse(t):null}async set(e,t){return sessionStorage[e]=JSON.stringify(t),t}async unset(e){return e in sessionStorage&&(delete sessionStorage[e],!0)}},tY.default=class{constructor(e={}){this._url=null,this._storage=null,this.options=Object.assign({replaceBrowserHistory:!0,fullSessionStorageSupport:!0,refreshTokenWithCredentials:"same-origin"},e)}relative(e){return new URL(e,this.getUrl().href).href}get fhir(){return"function"==typeof fhir?fhir:null}getUrl(){return this._url||(this._url=new URL(location+"")),this._url}redirect(e){location.href=e}getStorage(){return this._storage||(this._storage=new ii.default),this._storage}getAbortController(){return AbortController}atob(e){return window.atob(e)}btoa(e){return window.btoa(e)}getSmartApi(){return{ready:(...e)=>tJ.ready(this,...e),authorize:e=>tJ.authorize(this,e),init:e=>tJ.init(this,e),client:e=>new rl.default(this,e),options:this.options}}};const io=new tY.default,{ready:is,authorize:ia,init:il,client:iu,options:ih}=io.getSmartApi();if("undefined"==typeof FHIRCLIENT_PURE){let e=q("R5nvG");q("lzME1"),window.fetch||(window.fetch=e.default,window.Headers=e.Headers,window.Request=e.Request,window.Response=e.Response)}const ic={AbortController:window.AbortController,client:iu,oauth2:{settings:ih,ready:is,authorize:ia,init:il}};"use strict";tK=ic;var id={},ip={};ip=JSON.parse('["29.0.0","28.0.0","26.0.0","25.0.0","24.0.0","23.0.0","22.0.0"]');var im={};(im={})["29.0.0"]=q("lAjGr"),im["28.0.0"]=q("1m1ub"),im["26.0.0"]=q("bPSgt"),im["25.0.0"]=q("7U9wy"),im["24.0.0"]=q("63bjx"),im["23.0.0"]=q("jfylo"),im["22.0.0"]=q("8tvbb"),id={update:function(e,t){let r=q("bVDgi");var n,i=r.isFHIRResource(e);if(i){let t=e.meta;if(t){let e=t.tag;if(e)for(let t of e){let e=r.versionFromTag(t);if(e){n=e;break}}}}else n=e.lformsVersion;let o=[];for(let e=0,i=ip.length,s;e<i&&(s=ip[e])&&r.versionLessThan(n,s);++e)t&&r.versionLessThan(t,s)||o.push(s);let s=o[0];for(let t of o.reverse())e=im[t](e);if(o.length){if(i){let t,n=e.meta;n||(n=e.meta={});let i=n.tag;for(let e of(i||(i=n.tag=[]),i))if(r.versionFromTag(e)){t=e;break}let o=r.makeVersionTag(s);t?(t.code=o,delete t.display):i.push({code:o})}else e.lformsVersion=s}return e}};let ig=null,ib=null,i_=null,iy=null,iv={hasUrlQ:!1,gotQ:!1,hasUrlP:!1,gotP:!1};function iw(e){let t=document.getElementById("qv-loading");e?t.style.display="":t.style.display="none"}function iE(e,t){fetch(e).then(t=>t.ok?t.json():Promise.reject("No data returned from "+e)).then(r=>{if(!r||"Questionnaire"!==r.resourceType)return Promise.reject("No Questionnaire (JSON) returned from "+e);iv.gotQ=!0,function(e,t){if(e&&"Questionnaire"===e.resourceType){let r,n="The Questionnaire loaded from "+ig+" cannot be processed by LHC-Forms.  Please check if the Questionnaire is valid or if it has features that LHC-Forms does not support yet.";try{e=B(id).update(e),r=LForms.Util.convertFHIRQuestionnaireToLForms(e)}catch(e){console.error("Error:",e),iv.gotQ=!1,ik(n+" (Details: "+e+")")}if(r){t&&(r._packageStore=t),r.templateOptions={showFormHeader:!1,hideFormControls:!0};try{LForms.Util.addFormToPage(r,"qv-lforms").then(function(){(function(){let e=document.getElementById("qv-form-info"),t=document.querySelector("lforms"),r="";if(iv.hasUrlQ&&iv.gotQ&&t){if(r="The following Questionnaire was loaded from "+ig,iv.hasUrlP){if(iv.gotP)r+=", with resources from "+ib;else switch(iv.pErrorLocation){case"untar":r+=", but failed to untar the package file from "+ib;break;case"unzip":r+=", but failed to unzip the package file from "+ib;break;case"reader":r+=", but failed to read the package file from "+ib;break;case"fetch":r+=", but failed to fetch the package file from "+ib;break;default:r+=", but failed to fetch/process the package file from "+ib}}else iv.hasUrlS&&!iv.gotS?r+=", but failed to access to the FHIR Server at "+i_:iv.hasUrlS&&iv.gotS&&(r+=", with resources loaded from the FHIR Server at "+i_);r+=".";let e=LForms.Util.getAnswersResourceStatus();if(e&&e.length>0){r+=" Some FHIR ValueSet Resource(s) failed to load.";let t=document.getElementById("qv-btn-show-warning");t&&(t.style.display=""),document.getElementById("qv-form-warning").innerHTML=e.join("<br />")}}e.textContent=r,iw(!1)})(),LForms.Def.ScreenReaderLog.add("A questionnaire has been displayed on the page")})}catch(e){console.error("Error:",e),iv.gotQ=!1,ik(n)}}}}(r,t)}).catch(t=>{console.error("Error:",t),"string"==typeof t?ik(t):ik("Failed to load Questionnaire from "+e)})}function ik(e){e&&(document.getElementById("qv-error").style.display="",document.getElementById("qv-error-message").textContent=e),iw(!1)}function iR(){let e=document.getElementById("qv-error");e&&(e.style.display="none");let t=document.getElementById("qv-error-message");t&&(t.textContent="");let r=document.getElementById("qv-form-info");r&&(r.textContent="");let n=document.getElementById("qv-form-warning");n&&(n.textContent=""),n&&(n.style.display="none");let i=document.getElementById("qv-btn-show-warning");i&&(i.style.display="none");let o=document.getElementById("qv-lforms");for(;o.firstChild;)o.removeChild(o.lastChild);LForms.Util.setFHIRContext(null),iw(!1)}function iI(){if(iv={hasUrlQ:!1,gotQ:!1,hasUrlP:!1,gotP:!1,hasUrlS:!1,gotS:!1},ig){if(iv.hasUrlQ=!0,iw(!0),iy){if(ib){var e,t;let r;iv.hasUrlP=!0,e=ib,t=ig,r=[],e&&fetch(e).then(e=>{if(e.ok)return e.blob();throw e.ok}).then(n=>{let i=new FileReader;i.onload=function(n){try{let i=n.target.result.replace(/^data:[\/\+;a-zA-Z0-9\._-]+;base64,/,""),o=atob(i),s=o.split("").map(function(e){return e.charCodeAt(0)}),a=new Uint8Array(s),l=B(ex).inflate(a),u=new Uint16Array(l),h="",c=u.length;for(let e=0;e<c;e++)h+=String.fromCharCode(u[e]);let f=B(tZ)(h);B(tH)(f).then(function(e){if(Array.isArray(e)&&e.length>0){let n={},i=e.find(function(e){return"package/.index.json"===e.name});if(i){let t=i.readAsJSON();for(let e=0,r=t.files.length;e<r;e++){let r=t.files[e];("ValueSet"===r.resourceType||"CodeSystem"===r.resourceType)&&(n[r.filename]=r)}for(let t=0,i=e.length;t<i;t++){let i=e[t],o=n[i.name.replace(/^package\//,"")];o&&("ValueSet"===o.resourceType||"CodeSystem"===o.resourceType)&&(o.fileContent=i.readAsJSON(),r.push(o))}}else r=function(e){let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];if(n.name.match(/^package.*\.json$/)){let e=n.readAsJSON();e&&("ValueSet"===e.resourceType||"CodeSystem"===e.resourceType)&&t.push({filename:n.name.replace(/^package\//,""),fileContent:e,url:e.url,version:e.version,resourceType:e.resourceType})}}return t}(e);iv.gotP=!0,iE(t,r)}else iv.gotP=!1,iv.pErrorLocation="untar",iE(t,r)}).catch(function(r){console.error("Untar Error",e,r),iv.gotP=!1,iv.pErrorLocation="untar",iE(t)})}catch(r){console.log("Unzip Error",e,r),iv.gotP=!1,iv.pErrorLocation="unzip",iE(t)}},i.onerror=function(r){console.error("FileReader Error",e,r),iv.gotP=!1,esults.pErrorLocation="reader",iE(t)},i.readAsDataURL(n)}).catch(r=>{console.error("Fetch Error:",e,r),iv.gotP=!1,iv.pErrorLocation="fetch",iE(t)})}else iE(ig)}else i_?(iv.hasUrlS=!0,function(e){try{let t=B(tK).client(e);LForms.Util.setFHIRContext(t),LForms.Util.getServerFHIRReleaseID(function(e){void 0!==e?iv.gotS=!0:(iv.gotS=!1,LForms.Util.setFHIRContext(null)),iE(ig)})}catch(e){iv.gotS=!1,console.log(e),iE(ig)}}(i_)):iE(ig)}else ik("Please provide the URL of a FHIR Questionnaire.")}function iS(){iR();let e=document.getElementById("qv-form-input"),t=window.location.href,r=B(ea)(t,!0);ig=r&&r.query?r.query.q:null,ib=r&&r.query?r.query.p:null,i_=r&&r.query?r.query.s:null,ig?(ib&&(iy=!0),iI()):e.style.display=""}window.app={toggleWarning:function(){let e=document.getElementById("qv-form-warning"),t=document.getElementById("qv-btn-show-warning");"none"===e.style.display?(e.style.display="",t.textContent="Hide Warning Messages"):(e.style.display="none",t.textContent="Show Warning Messages")},onPageLoad:iS,viewQuestionnaire:function(){iR(),document.getElementById("qv-form-input").style.display="",ig=document.getElementById("urlQuestionnaire").value,ib=document.getElementById("urlPackage").value,i_=document.getElementById("urlFhirServer").value,iy=document.getElementById("radioPackage").checked,iI()},toggleInputFields:function(e,t){let r=document.getElementById(e);r&&(r.disabled=!0);let n=document.getElementById(t);n&&(n.disabled=!1)},showErrorMessages:ik};let iC=new URL(document.location).searchParams.get("lfv")||"29.2.3";function iA(){document.getElementById("header").style.display="block"}/^\d+\.\d+\.\d+(-beta\.\d+)?$/.test(iC)?(function(e,t,r){let n,i,o;let s="https://clinicaltables.nlm.nih.gov/lforms-versions/"+e,a=e.split(".")[0];a>=33?(n="/webcomponent/styles.css",i=["assets/lib/zone.min.js","lhc-forms.js"].map(e=>"/webcomponent/"+e),o="/fhir/lformsFHIRAll.min.js"):a>=30?(n="/webcomponent/styles.css",i=["assets/lib/zone.min.js","lhc-forms.es5.js"].map(e=>"/webcomponent/"+e),o="/fhir/lformsFHIRAll.min.js"):(n="/styles/lforms.min.css",i=["/lforms.min.js"],o="/fhir/lformsFHIRAll.min.js");let l=document.createElement("link");l.setAttribute("href",s+n),l.setAttribute("media","screen"),l.setAttribute("rel","stylesheet");let u=[];for(let e of(u.push(es(l).then(()=>t&&t())),i.push(o),i)){let t=document.createElement("script");t.setAttribute("src",s+e),t.setAttribute("async",!1),t.setAttribute("defer",!0),u.push(es(t))}return Promise.all(u).then(()=>console.log("Loaded LHC-Forms version "+e))})(iC,iA).then(()=>void(fetch("https://clinicaltables.nlm.nih.gov/lforms-versions").then(e=>{if(e.ok)return e.text().then(e=>{let t=[...e.matchAll(/<span class="name">lforms-(.*)\.zip<\/span>/g)].map(e=>e[1]).filter(e=>e.split(".")[0]>=29);return B(H)(t),t});throw Error("Unable to the retrive the list of LForms versions from https://clinicaltables.nlm.nih.gov/lforms-versions")}).then(e=>{let t=new LForms.Def.Autocompleter.Prefetch("lformsVersion",e,{defaultValue:LForms.lformsVersion,matchListValue:!0,addSeqNum:!1});t.setFieldToListValue(LForms.lformsVersion),document.getElementById("lformsVersionMenu").style.display="inline",LForms.Def.Autocompleter.Event.observeListSelections("lformsVersion",e=>{e.final_val&&e.on_list&&e.final_val!=LForms.lformsVersion&&function(e){let t=window.location.origin+window.location.pathname,r=new URLSearchParams(window.location.search);r.set("lfv",e),window.location=t+"?"+r}(e.final_val)})}),iS()),e=>{console.log(e),iA(),function(e){ik(e)}('Unable to load version "'+iC+'" of the LHC-Forms software.')}):(iA(),function(e){ik(e)}('An invalid version "'+iC+'" of the LHC-Forms software was requested.'));
//# sourceMappingURL=index.dab007f6.js.map
